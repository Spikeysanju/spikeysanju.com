import{S as He,i as Oe,s as Ue,k as d,a as I,q as j,T as Fe,l as h,h as f,c as T,m as g,r as B,n as m,U as Ne,D as n,b as Q,u as ue,d as se,f as Re,g as z,F as qe,v as Ge,Q as Le,R as $e,E as be,C as me,a0 as Ce,a1 as ze,P as Qe,e as Pe,$ as Xe,y as Je,z as Ke,A as We,B as Ye}from"../chunks/index.47d0ebac.js";import{f as Ve,A as Ze}from"../chunks/AmaCommentCard.9518ba4d.js";import{e as xe}from"../chunks/forms.a77978bc.js";import{s as je}from"../chunks/store.6114b258.js";import{p as et}from"../chunks/stores.f31d0fd1.js";function Be(r,t,l){const i=r.slice();return i[8]=t[l],i}function tt(r){let t,l,i,s;return{c(){t=d("button"),l=j("Sign in to comment"),this.h()},l(c){t=h(c,"BUTTON",{class:!0});var e=g(t);l=B(e,"Sign in to comment"),e.forEach(f),this.h()},h(){m(t,"class","rounded-sm border border-gray-200 bg-gray-100 px-3 py-2 font-medium text-black shadow-sm hover:cursor-pointer hover:bg-gray-200")},m(c,e){Q(c,t,e),n(t,l),i||(s=be(t,"click",r[7]),i=!0)},p:me,d(c){c&&f(t),i=!1,s()}}}function at(r){let t,l,i,s,c,e,o,a,b,k,_;return{c(){t=d("form"),l=d("input"),s=I(),c=d("div"),e=d("textarea"),o=I(),a=d("button"),b=j("Submit"),this.h()},l(v){t=h(v,"FORM",{method:!0,action:!0});var w=g(t);l=h(w,"INPUT",{type:!0,name:!0,id:!0}),s=T(w),c=h(w,"DIV",{class:!0});var N=g(c);e=h(N,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),g(e).forEach(f),o=T(N),a=h(N,"BUTTON",{type:!0,class:!0});var M=g(a);b=B(M,"Submit"),M.forEach(f),N.forEach(f),w.forEach(f),this.h()},h(){var v;m(l,"type","hidden"),m(l,"name","amaId"),m(l,"id","amaId"),l.value=i=(v=r[0].ama)==null?void 0:v.id,m(e,"name","comment"),m(e,"id","comment"),m(e,"placeholder","Share your thoughts..."),m(e,"rows","3"),m(e,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white"),m(a,"type","submit"),m(a,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),m(c,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),m(t,"method","post"),m(t,"action","?/create")},m(v,w){Q(v,t,w),n(t,l),n(t,s),n(t,c),n(c,e),Ce(e,r[1]),n(c,o),n(c,a),n(a,b),k||(_=[be(e,"input",r[6]),be(e,"keydown",r[5]),ze(xe.call(null,t))],k=!0)},p(v,w){var N;w&1&&i!==(i=(N=v[0].ama)==null?void 0:N.id)&&(l.value=i),w&2&&Ce(e,v[1])},d(v){v&&f(t),k=!1,Qe(_)}}}function st(r){let t,l,i,s,c,e;return{c(){t=d("div"),l=d("h5"),i=j("No comments found."),s=I(),c=d("p"),e=j("Be the first to comment."),this.h()},l(o){t=h(o,"DIV",{class:!0});var a=g(t);l=h(a,"H5",{});var b=g(l);i=B(b,"No comments found."),b.forEach(f),s=T(a),c=h(a,"P",{class:!0});var k=g(c);e=B(k,"Be the first to comment."),k.forEach(f),a.forEach(f),this.h()},h(){m(c,"class","text-gray-500"),m(t,"class","flex h-full w-full flex-col items-center justify-center")},m(o,a){Q(o,t,a),n(t,l),n(l,i),n(t,s),n(t,c),n(c,e)},p:me,i:me,o:me,d(o){o&&f(t)}}}function lt(r){let t,l,i=r[0].comments,s=[];for(let e=0;e<i.length;e+=1)s[e]=Me(Be(r,i,e));const c=e=>se(s[e],1,1,()=>{s[e]=null});return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=Pe()},l(e){for(let o=0;o<s.length;o+=1)s[o].l(e);t=Pe()},m(e,o){for(let a=0;a<s.length;a+=1)s[a].m(e,o);Q(e,t,o),l=!0},p(e,o){if(o&17){i=e[0].comments;let a;for(a=0;a<i.length;a+=1){const b=Be(e,i,a);s[a]?(s[a].p(b,o),z(s[a],1)):(s[a]=Me(b),s[a].c(),z(s[a],1),s[a].m(t.parentNode,t))}for(Ge(),a=i.length;a<s.length;a+=1)c(a);Re()}},i(e){if(!l){for(let o=0;o<i.length;o+=1)z(s[o]);l=!0}},o(e){s=s.filter(Boolean);for(let o=0;o<s.length;o+=1)se(s[o]);l=!1},d(e){Xe(s,e),e&&f(t)}}}function Me(r){var i,s,c;let t,l;return t=new Ze({props:{name:((i=r[8].user)==null?void 0:i.name)??"Anonymous",image:((s=r[8].user)==null?void 0:s.image)??"/images/anonymous.png",content:r[8].content??"",isAuthor:r[4](((c=r[8].user)==null?void 0:c.id)??"Guest"),createdAt:r[8].createdAt??""}}),{c(){Je(t.$$.fragment)},l(e){Ke(t.$$.fragment,e)},m(e,o){We(t,e,o),l=!0},p(e,o){var b,k,_;const a={};o&1&&(a.name=((b=e[8].user)==null?void 0:b.name)??"Anonymous"),o&1&&(a.image=((k=e[8].user)==null?void 0:k.image)??"/images/anonymous.png"),o&1&&(a.content=e[8].content??""),o&1&&(a.isAuthor=e[4](((_=e[8].user)==null?void 0:_.id)??"Guest")),o&1&&(a.createdAt=e[8].createdAt??""),t.$set(a)},i(e){l||(z(t.$$.fragment,e),l=!0)},o(e){se(t.$$.fragment,e),l=!1},d(e){Ye(t,e)}}}function ot(r){var Ee,Ae,Se,De,Ie,Te;let t,l,i,s,c,e,o,a=((Ee=r[0].ama)==null?void 0:Ee.question)+"",b,k,_,v=((Ae=r[0].ama)==null?void 0:Ae.description)+"",w,N,M,P,V,le,oe,fe,U,X=((De=(Se=r[0].ama)==null?void 0:Se.user)==null?void 0:De.name)+"",ne,de,F,L,J=Ve(new Date(`${(Ie=r[0].ama)==null?void 0:Ie.createdAt}`),new Date)+"",re,he,y,K,_e,pe,ce,$,ve,ge,A,S,D;document.title=t=((Te=r[0].ama)==null?void 0:Te.question)+" | Spikey Sanju";function ke(u,p){return u[2].data.session&&u[2].data.session.user?at:tt}let ie=ke(r),q=ie(r);const we=[lt,st],H=[];function ye(u,p){return u[0].comments.length>0?0:1}return A=ye(r),S=H[A]=we[A](r),{c(){l=d("meta"),s=I(),c=d("section"),e=d("div"),o=d("h1"),b=j(a),k=I(),_=d("p"),w=j(v),N=I(),M=d("div"),P=d("div"),V=d("img"),fe=I(),U=d("span"),ne=j(X),de=I(),F=d("div"),L=d("span"),re=j(J),he=I(),y=d("div"),K=d("h3"),_e=j("Comments"),pe=I(),q.c(),ce=I(),$=d("h6"),ve=j("Recent comments"),ge=I(),S.c(),this.h()},l(u){const p=Fe("svelte-8blg73",document.head);l=h(p,"META",{name:!0,content:!0}),p.forEach(f),s=T(u),c=h(u,"SECTION",{class:!0});var R=g(c);e=h(R,"DIV",{class:!0});var E=g(e);o=h(E,"H1",{});var O=g(o);b=B(O,a),O.forEach(f),k=T(E),_=h(E,"P",{});var W=g(_);w=B(W,v),W.forEach(f),N=T(E),M=h(E,"DIV",{class:!0});var Y=g(M);P=h(Y,"DIV",{class:!0});var G=g(P);V=h(G,"IMG",{src:!0,alt:!0,class:!0}),fe=T(G),U=h(G,"SPAN",{class:!0});var Z=g(U);ne=B(Z,X),Z.forEach(f),de=T(G),F=h(G,"DIV",{class:!0});var x=g(F);L=h(x,"SPAN",{class:!0});var ee=g(L);re=B(ee,J),ee.forEach(f),x.forEach(f),G.forEach(f),Y.forEach(f),he=T(E),y=h(E,"DIV",{class:!0});var C=g(y);K=h(C,"H3",{});var te=g(K);_e=B(te,"Comments"),te.forEach(f),pe=T(C),q.l(C),ce=T(C),$=h(C,"H6",{class:!0});var ae=g($);ve=B(ae,"Recent comments"),ae.forEach(f),ge=T(C),S.l(C),C.forEach(f),E.forEach(f),R.forEach(f),this.h()},h(){var u,p,R,E,O;m(l,"name","description"),m(l,"content",i=(u=r[0].ama)==null?void 0:u.description),Ne(V.src,le=(R=(p=r[0].ama)==null?void 0:p.user)==null?void 0:R.image)||m(V,"src",le),m(V,"alt",oe=(O=(E=r[0].ama)==null?void 0:E.user)==null?void 0:O.name),m(V,"class","h-12 w-12 rounded-full"),m(U,"class","font-medium text-black dark:text-white"),m(L,"class","text-gray-500"),m(F,"class","text-right"),m(P,"class","flow-row flex items-center justify-center space-x-3"),m(M,"class","flex flex-row items-center justify-between"),m($,"class","py-3"),m(y,"class","flex w-full flex-col"),m(e,"class","flex w-full flex-col space-y-3"),m(c,"class","flex min-h-screen w-full flex-col")},m(u,p){n(document.head,l),Q(u,s,p),Q(u,c,p),n(c,e),n(e,o),n(o,b),n(e,k),n(e,_),n(_,w),n(e,N),n(e,M),n(M,P),n(P,V),n(P,fe),n(P,U),n(U,ne),n(P,de),n(P,F),n(F,L),n(L,re),n(e,he),n(e,y),n(y,K),n(K,_e),n(y,pe),q.m(y,null),n(y,ce),n(y,$),n($,ve),n(y,ge),H[A].m(y,null),D=!0},p(u,[p]){var E,O,W,Y,G,Z,x,ee,C,te,ae;(!D||p&1)&&t!==(t=((E=u[0].ama)==null?void 0:E.question)+" | Spikey Sanju")&&(document.title=t),(!D||p&1&&i!==(i=(O=u[0].ama)==null?void 0:O.description))&&m(l,"content",i),(!D||p&1)&&a!==(a=((W=u[0].ama)==null?void 0:W.question)+"")&&ue(b,a),(!D||p&1)&&v!==(v=((Y=u[0].ama)==null?void 0:Y.description)+"")&&ue(w,v),(!D||p&1&&!Ne(V.src,le=(Z=(G=u[0].ama)==null?void 0:G.user)==null?void 0:Z.image))&&m(V,"src",le),(!D||p&1&&oe!==(oe=(ee=(x=u[0].ama)==null?void 0:x.user)==null?void 0:ee.name))&&m(V,"alt",oe),(!D||p&1)&&X!==(X=((te=(C=u[0].ama)==null?void 0:C.user)==null?void 0:te.name)+"")&&ue(ne,X),(!D||p&1)&&J!==(J=Ve(new Date(`${(ae=u[0].ama)==null?void 0:ae.createdAt}`),new Date)+"")&&ue(re,J),ie===(ie=ke(u))&&q?q.p(u,p):(q.d(1),q=ie(u),q&&(q.c(),q.m(y,ce)));let R=A;A=ye(u),A===R?H[A].p(u,p):(Ge(),se(H[R],1,1,()=>{H[R]=null}),Re(),S=H[A],S?S.p(u,p):(S=H[A]=we[A](u),S.c()),z(S,1),S.m(y,null))},i(u){D||(z(S),D=!0)},o(u){se(S),D=!1},d(u){f(l),u&&f(s),u&&f(c),q.d(),H[A].d()}}}function nt(r,t,l){let i,s;qe(r,et,_=>l(2,i=_)),qe(r,je,_=>l(3,s=_));let{data:c}=t,e="";function o(_){var v;return((v=c.ama)==null?void 0:v.userId)===_?"Author":"Guest"}function a(_){Le.call(this,r,_)}function b(){e=this.value,l(1,e)}const k=()=>$e(je,s=!0,s);return r.$$set=_=>{"data"in _&&l(0,c=_.data)},[c,e,i,s,o,a,b,k]}class ft extends He{constructor(t){super(),Oe(this,t,nt,ot,Ue,{data:0})}}export{ft as default};
