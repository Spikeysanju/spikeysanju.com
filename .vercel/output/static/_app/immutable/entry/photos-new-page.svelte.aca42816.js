import{S as ae,i as se,s as re,k as i,a as T,q as V,T as oe,l as u,h as f,c as w,m as I,r as q,n as e,D as a,b as ee,a0 as A,E as O,a1 as le,C as te,P as ne,w as ie}from"../chunks/index.47d0ebac.js";import{e as ue}from"../chunks/forms.a77978bc.js";import{s as ce}from"../chunks/utils.39804466.js";function de(n){let E,o,m,t,c,y,D,h,d,L,v,j,B,x,p,C,s,P,U,b,N,F,_,M,g,J,S,R,z,G;return{c(){E=i("meta"),o=T(),m=i("section"),t=i("form"),c=i("label"),y=V("Name"),D=T(),h=i("div"),d=i("input"),L=T(),v=i("label"),j=V("Description"),B=T(),x=i("div"),p=i("input"),C=T(),s=i("label"),P=V("Image"),U=T(),b=i("div"),N=i("input"),F=T(),_=i("input"),M=T(),g=i("input"),J=T(),S=i("button"),R=V("Add photo"),this.h()},l(l){const k=oe("svelte-1bc9716",document.head);E=u(k,"META",{name:!0,content:!0}),k.forEach(f),o=w(l),m=u(l,"SECTION",{class:!0});var H=I(m);t=u(H,"FORM",{action:!0,method:!0,class:!0});var r=I(t);c=u(r,"LABEL",{for:!0,class:!0});var K=I(c);y=q(K,"Name"),K.forEach(f),D=w(r),h=u(r,"DIV",{class:!0});var Q=I(h);d=u(Q,"INPUT",{type:!0,name:!0,id:!0,autocomplete:!0,class:!0}),Q.forEach(f),L=w(r),v=u(r,"LABEL",{for:!0,class:!0});var W=I(v);j=q(W,"Description"),W.forEach(f),B=w(r),x=u(r,"DIV",{class:!0});var X=I(x);p=u(X,"INPUT",{type:!0,name:!0,id:!0,autocomplete:!0,class:!0}),X.forEach(f),C=w(r),s=u(r,"LABEL",{for:!0,class:!0});var Y=I(s);P=q(Y,"Image"),Y.forEach(f),U=w(r),b=u(r,"DIV",{class:!0});var Z=I(b);N=u(Z,"INPUT",{id:!0,type:!0,accept:!0}),Z.forEach(f),F=w(r),_=u(r,"INPUT",{id:!0,name:!0,type:!0,class:!0}),M=w(r),g=u(r,"INPUT",{id:!0,name:!0,type:!0,class:!0}),J=w(r),S=u(r,"BUTTON",{type:!0,class:!0});var $=I(S);R=q($,"Add photo"),$.forEach(f),r.forEach(f),H.forEach(f),this.h()},h(){document.title="Add Photo | Spikey Sanju",e(E,"name","description"),e(E,"content","Add a new photo to the gallery"),e(c,"for","name"),e(c,"class","block text-sm font-medium text-gray-700 dark:text-gray-200"),e(d,"type","text"),e(d,"name","title"),e(d,"id","title"),e(d,"autocomplete","title"),e(d,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white sm:text-sm"),e(h,"class","mt-1"),e(v,"for","description"),e(v,"class","block text-sm font-medium text-gray-700 dark:text-gray-200"),e(p,"type","text"),e(p,"name","description"),e(p,"id","description"),e(p,"autocomplete","name"),e(p,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white sm:text-sm"),e(x,"class","mt-1"),e(s,"for","image"),e(s,"class","block text-sm font-medium text-gray-700 dark:text-gray-200"),e(N,"id","image-to-upload"),e(N,"type","file"),e(N,"accept",".png,.jpg, .jpeg"),e(b,"class","mt-1"),e(_,"id","image"),e(_,"name","image"),e(_,"type","url"),e(_,"class","hidden"),e(g,"id","type"),e(g,"name","type"),e(g,"type","text"),e(g,"class","hidden"),e(S,"type","submit"),e(S,"class","text-md w-full items-center rounded-md border border-transparent bg-black px-4 py-2 font-bold text-white shadow-sm hover:bg-black focus:outline-none focus:ring-2 focus:ring-black focus:ring-offset-2 dark:bg-white dark:text-black"),e(t,"action","?/create"),e(t,"method","post"),e(t,"class","flex w-full flex-col space-y-3"),e(m,"class","flex min-h-screen w-full flex-col items-center justify-start")},m(l,k){a(document.head,E),ee(l,o,k),ee(l,m,k),a(m,t),a(t,c),a(c,y),a(t,D),a(t,h),a(h,d),A(d,n[0]),a(t,L),a(t,v),a(v,j),a(t,B),a(t,x),a(x,p),A(p,n[1]),a(t,C),a(t,s),a(s,P),a(t,U),a(t,b),a(b,N),n[9](N),a(t,F),a(t,_),A(_,n[2]),a(t,M),a(t,g),A(g,n[3]),a(t,J),a(t,S),a(S,R),z||(G=[O(d,"input",n[7]),O(p,"input",n[8]),O(N,"change",n[5]),O(_,"input",n[10]),O(g,"input",n[11]),le(ue.call(null,t))],z=!0)},p(l,[k]){k&1&&d.value!==l[0]&&A(d,l[0]),k&2&&p.value!==l[1]&&A(p,l[1]),k&4&&A(_,l[2]),k&8&&g.value!==l[3]&&A(g,l[3])},i:te,o:te,d(l){f(E),l&&f(o),l&&f(m),n[9](null),z=!1,ne(G)}}}function pe(n){console.error("Error during image upload: ",n)}function me(n,E,o){let m="",t="",c="",y="";const D={capture:()=>({title:m,description:t,image:c,fileType:y}),restore:s=>{o(0,m=s.title),o(1,t=s.description),o(2,c=s.image),o(3,y=s.fileType)}};let h;function d(){if(h.files!=null){const s=h.files[0];ce(s,L,pe)}}function L(s,P){v(s,P)}const v=async(s,P)=>{const U=await fetch("/api/upload",{method:"PUT",body:JSON.stringify({image:s,fileType:P})}).then(b=>b.json()).then(b=>(console.log("res",b),b));o(2,c=U.url),o(3,y=U.fileType)};function j(){m=this.value,o(0,m)}function B(){t=this.value,o(1,t)}function x(s){ie[s?"unshift":"push"](()=>{h=s,o(4,h)})}function p(){c=this.value,o(2,c)}function C(){y=this.value,o(3,y)}return[m,t,c,y,h,d,D,j,B,x,p,C]}class ge extends ae{constructor(E){super(),se(this,E,me,de,re,{snapshot:6})}get snapshot(){return this.$$.ctx[6]}}export{ge as default};
