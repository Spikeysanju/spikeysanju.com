import{S as me,i as fe,s as de,k,a as B,q as V,T as he,l as y,h as g,c as D,m as I,r as F,n as r,U as ae,D as c,b as X,u as se,g as Q,f as pe,d as Y,$ as _e,F as le,y as ge,z as be,A as ve,B as ke,v as ye,Q as we,R as Ee,E as Z,C as Ae,a0 as ne,a1 as Se,P as Te}from"../chunks/index.47d0ebac.js";import{A as Ie}from"../chunks/AmaCommentCard.9518ba4d.js";import{s as re}from"../chunks/store.6114b258.js";import{p as Ce}from"../chunks/stores.f31d0fd1.js";import{e as je}from"../chunks/forms.a77978bc.js";function ie(a,o,s){const m=a.slice();return m[8]=o[s],m}function Me(a){let o,s,m,p;return{c(){o=k("button"),s=V("Sign in to comment"),this.h()},l(l){o=y(l,"BUTTON",{class:!0});var e=I(o);s=F(e,"Sign in to comment"),e.forEach(g),this.h()},h(){r(o,"class","rounded-sm border border-gray-200 bg-gray-100 px-3 py-2 font-medium text-black shadow-sm hover:cursor-pointer hover:bg-gray-200")},m(l,e){X(l,o,e),c(o,s),m||(p=Z(o,"click",a[7]),m=!0)},p:Ae,d(l){l&&g(o),m=!1,p()}}}function qe(a){let o,s,m,p,l,e,i,d,w,E,f;return{c(){o=k("form"),s=k("input"),p=B(),l=k("div"),e=k("textarea"),i=B(),d=k("button"),w=V("Submit"),this.h()},l(h){o=y(h,"FORM",{method:!0,action:!0});var b=I(o);s=y(b,"INPUT",{type:!0,name:!0,id:!0}),p=D(b),l=y(b,"DIV",{class:!0});var S=I(l);e=y(S,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),I(e).forEach(g),i=D(S),d=y(S,"BUTTON",{type:!0,class:!0});var q=I(d);w=F(q,"Submit"),q.forEach(g),S.forEach(g),b.forEach(g),this.h()},h(){var h;r(s,"type","hidden"),r(s,"name","toolId"),r(s,"id","toolId"),s.value=m=(h=a[0].tools)==null?void 0:h.id,r(e,"name","comment"),r(e,"id","comment"),r(e,"placeholder","Share your thoughts..."),r(e,"rows","3"),r(e,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white"),r(d,"type","submit"),r(d,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),r(l,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),r(o,"method","post"),r(o,"action","?/create")},m(h,b){X(h,o,b),c(o,s),c(o,p),c(o,l),c(l,e),ne(e,a[1]),c(l,i),c(l,d),c(d,w),E||(f=[Z(e,"input",a[6]),Z(e,"keydown",a[5]),Se(je.call(null,o))],E=!0)},p(h,b){var S;b&1&&m!==(m=(S=h[0].tools)==null?void 0:S.id)&&(s.value=m),b&2&&ne(e,h[1])},d(h){h&&g(o),E=!1,Te(f)}}}function ue(a){var m,p,l;let o,s;return o=new Ie({props:{name:((m=a[8].user)==null?void 0:m.name)??"Anonymous",image:((p=a[8].user)==null?void 0:p.image)??"/images/anonymous.png",content:a[8].content??"",isAuthor:a[4](((l=a[8].user)==null?void 0:l.id)??"Guest"),createdAt:a[8].createdAt??""}}),{c(){ge(o.$$.fragment)},l(e){be(o.$$.fragment,e)},m(e,i){ve(o,e,i),s=!0},p(e,i){var w,E,f;const d={};i&1&&(d.name=((w=e[8].user)==null?void 0:w.name)??"Anonymous"),i&1&&(d.image=((E=e[8].user)==null?void 0:E.image)??"/images/anonymous.png"),i&1&&(d.content=e[8].content??""),i&1&&(d.isAuthor=e[4](((f=e[8].user)==null?void 0:f.id)??"Guest")),i&1&&(d.createdAt=e[8].createdAt??""),o.$set(d)},i(e){s||(Q(o.$$.fragment,e),s=!0)},o(e){Y(o.$$.fragment,e),s=!1},d(e){ke(o,e)}}}function Be(a){var x,ee,te;let o,s,m,p,l,e,i,d,w,E,f,h=((x=a[0].tools)==null?void 0:x.name)+"",b,S,q,N=((ee=a[0].tools)==null?void 0:ee.description)+"",H,J,A,O,K,W,L,C;document.title=o=((te=a[0].tools)==null?void 0:te.name)+" | Spikey Sanju";function $(t,n){return t[2].data.session&&t[2].data.session.user?qe:Me}let z=$(a),T=z(a),G=a[0].comments,u=[];for(let t=0;t<G.length;t+=1)u[t]=ue(ie(a,G,t));const ce=t=>Y(u[t],1,1,()=>{u[t]=null});return{c(){s=k("meta"),p=B(),l=k("section"),e=k("div"),i=k("img"),E=B(),f=k("h1"),b=V(h),S=B(),q=k("p"),H=V(N),J=B(),A=k("div"),O=k("h3"),K=V("Comments"),W=B(),T.c(),L=B();for(let t=0;t<u.length;t+=1)u[t].c();this.h()},l(t){const n=he("svelte-1w0mggm",document.head);s=y(n,"META",{name:!0,content:!0}),n.forEach(g),p=D(t),l=y(t,"SECTION",{class:!0});var v=I(l);e=y(v,"DIV",{class:!0});var j=I(e);i=y(j,"IMG",{src:!0,alt:!0,class:!0}),E=D(j),f=y(j,"H1",{});var P=I(f);b=F(P,h),P.forEach(g),S=D(j),q=y(j,"P",{});var U=I(q);H=F(U,N),U.forEach(g),j.forEach(g),J=D(v),A=y(v,"DIV",{class:!0});var M=I(A);O=y(M,"H3",{});var R=I(O);K=F(R,"Comments"),R.forEach(g),W=D(M),T.l(M),L=D(M);for(let _=0;_<u.length;_+=1)u[_].l(M);M.forEach(g),v.forEach(g),this.h()},h(){var t,n,v;r(s,"name","description"),r(s,"content",m=(t=a[0].tools)==null?void 0:t.description),ae(i.src,d=(n=a[0].tools)==null?void 0:n.image)||r(i,"src",d),r(i,"alt",w=(v=a[0].tools)==null?void 0:v.name),r(i,"class","aspect-square w-24 object-cover"),r(e,"class","flex w-full flex-col space-y-3"),r(A,"class","mt-6 flex w-full flex-col space-y-3"),r(l,"class","flex min-h-screen w-full flex-col items-center justify-start")},m(t,n){c(document.head,s),X(t,p,n),X(t,l,n),c(l,e),c(e,i),c(e,E),c(e,f),c(f,b),c(e,S),c(e,q),c(q,H),c(l,J),c(l,A),c(A,O),c(O,K),c(A,W),T.m(A,null),c(A,L);for(let v=0;v<u.length;v+=1)u[v].m(A,null);C=!0},p(t,[n]){var v,j,P,U,M,R;if((!C||n&1)&&o!==(o=((v=t[0].tools)==null?void 0:v.name)+" | Spikey Sanju")&&(document.title=o),(!C||n&1&&m!==(m=(j=t[0].tools)==null?void 0:j.description))&&r(s,"content",m),(!C||n&1&&!ae(i.src,d=(P=t[0].tools)==null?void 0:P.image))&&r(i,"src",d),(!C||n&1&&w!==(w=(U=t[0].tools)==null?void 0:U.name))&&r(i,"alt",w),(!C||n&1)&&h!==(h=((M=t[0].tools)==null?void 0:M.name)+"")&&se(b,h),(!C||n&1)&&N!==(N=((R=t[0].tools)==null?void 0:R.description)+"")&&se(H,N),z===(z=$(t))&&T?T.p(t,n):(T.d(1),T=z(t),T&&(T.c(),T.m(A,L))),n&17){G=t[0].comments;let _;for(_=0;_<G.length;_+=1){const oe=ie(t,G,_);u[_]?(u[_].p(oe,n),Q(u[_],1)):(u[_]=ue(oe),u[_].c(),Q(u[_],1),u[_].m(A,null))}for(ye(),_=G.length;_<u.length;_+=1)ce(_);pe()}},i(t){if(!C){for(let n=0;n<G.length;n+=1)Q(u[n]);C=!0}},o(t){u=u.filter(Boolean);for(let n=0;n<u.length;n+=1)Y(u[n]);C=!1},d(t){g(s),t&&g(p),t&&g(l),T.d(),_e(u,t)}}}function De(a,o,s){let m,p;le(a,Ce,f=>s(2,m=f)),le(a,re,f=>s(3,p=f));let{data:l}=o,e="";function i(f){var h;return((h=l.tools)==null?void 0:h.userId)===f?"Author":"Guest"}function d(f){we.call(this,a,f)}function w(){e=this.value,s(1,e)}const E=()=>Ee(re,p=!0,p);return a.$$set=f=>{"data"in f&&s(0,l=f.data)},[l,e,m,p,i,d,w,E]}class Re extends me{constructor(o){super(),fe(this,o,De,Be,de,{data:0})}}export{Re as default};
