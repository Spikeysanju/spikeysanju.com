import{S as Ke,i as Le,s as Qe,k as d,a as D,q as $,a3 as We,l as h,h as m,c as I,m as p,r as P,n as o,a4 as Me,D as a,b as de,Z as Oe,O as Ue,u as fe,d as ne,f as Ze,g as Q,U as Ye,v as Je,a2 as xe,C as Se,e as Ge,T as et,y as tt,z as at,A as st,B as lt}from"../chunks/index.e2d88345.js";import{f as ze,A as nt}from"../chunks/AmaCommentCard.30602a01.js";function Fe(r,n,i){const u=r.slice();return u[5]=n[i],u}function ot(r){let n,i,u,s,_,e;return{c(){n=d("div"),i=d("h5"),u=$("No comments found."),s=D(),_=d("p"),e=$("Be the first to comment."),this.h()},l(l){n=h(l,"DIV",{class:!0});var t=p(n);i=h(t,"H5",{});var v=p(i);u=P(v,"No comments found."),v.forEach(m),s=I(t),_=h(t,"P",{class:!0});var A=p(_);e=P(A,"Be the first to comment."),A.forEach(m),t.forEach(m),this.h()},h(){o(_,"class","text-gray-500"),o(n,"class","flex h-full w-full flex-col items-center justify-center")},m(l,t){de(l,n,t),a(n,i),a(i,u),a(n,s),a(n,_),a(_,e)},p:Se,i:Se,o:Se,d(l){l&&m(n)}}}function rt(r){let n,i,u=r[0].comments,s=[];for(let e=0;e<u.length;e+=1)s[e]=Xe(Fe(r,u,e));const _=e=>ne(s[e],1,1,()=>{s[e]=null});return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=Ge()},l(e){for(let l=0;l<s.length;l+=1)s[l].l(e);n=Ge()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);de(e,n,l),i=!0},p(e,l){if(l&5){u=e[0].comments;let t;for(t=0;t<u.length;t+=1){const v=Fe(e,u,t);s[t]?(s[t].p(v,l),Q(s[t],1)):(s[t]=Xe(v),s[t].c(),Q(s[t],1),s[t].m(n.parentNode,n))}for(Je(),t=u.length;t<s.length;t+=1)_(t);Ze()}},i(e){if(!i){for(let l=0;l<u.length;l+=1)Q(s[l]);i=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)ne(s[l]);i=!1},d(e){et(s,e),e&&m(n)}}}function Xe(r){var u,s,_;let n,i;return n=new nt({props:{name:((u=r[5].user)==null?void 0:u.name)??"Anonymous",image:((s=r[5].user)==null?void 0:s.image)??"/images/anonymous.png",content:r[5].content??"",isAuthor:r[2](((_=r[5].user)==null?void 0:_.id)??"Anonymous"),createdAt:r[5].createdAt??""}}),{c(){tt(n.$$.fragment)},l(e){at(n.$$.fragment,e)},m(e,l){st(n,e,l),i=!0},p(e,l){var v,A,S;const t={};l&1&&(t.name=((v=e[5].user)==null?void 0:v.name)??"Anonymous"),l&1&&(t.image=((A=e[5].user)==null?void 0:A.image)??"/images/anonymous.png"),l&1&&(t.content=e[5].content??""),l&1&&(t.isAuthor=e[2](((S=e[5].user)==null?void 0:S.id)??"Anonymous")),l&1&&(t.createdAt=e[5].createdAt??""),n.$set(t)},i(e){i||(Q(n.$$.fragment,e),i=!0)},o(e){ne(n.$$.fragment,e),i=!1},d(e){lt(n,e)}}}function ct(r){var je,qe,Ve,$e,Pe,Be;let n,i,u,s,_,e,l,t=((je=r[0].ama)==null?void 0:je.question)+"",v,A,S,B=((qe=r[0].ama)==null?void 0:qe.description)+"",oe,he,X,C,T,re,ce,_e,Z,W=(($e=(Ve=r[0].ama)==null?void 0:Ve.user)==null?void 0:$e.name)+"",ue,pe,J,K,Y=ze(new Date(`${(Pe=r[0].ama)==null?void 0:Pe.createdAt}`),new Date)+"",ie,ve,b,x,ge,be,j,R,me,we,H,w,Ee,G,Ae,ye,L,ke,De,y,k,E,Ie,Ne;document.title=n=((Be=r[0].ama)==null?void 0:Be.question)+" – Spikey Sanju";const Ce=[rt,ot],M=[];function Te(c,f){return c[0].comments.length>0?0:1}return y=Te(r),k=M[y]=Ce[y](r),{c(){i=d("meta"),s=D(),_=d("section"),e=d("div"),l=d("h1"),v=$(t),A=D(),S=d("p"),oe=$(B),he=D(),X=d("div"),C=d("div"),T=d("img"),_e=D(),Z=d("span"),ue=$(W),pe=D(),J=d("div"),K=d("span"),ie=$(Y),ve=D(),b=d("div"),x=d("h3"),ge=$("Comments"),be=D(),j=d("form"),R=d("input"),we=D(),H=d("div"),w=d("textarea"),Ee=D(),G=d("button"),Ae=$("Submit"),ye=D(),L=d("h6"),ke=$("Recent comments"),De=D(),k.c(),this.h()},l(c){const f=We("svelte-gj289e",document.head);i=h(f,"META",{name:!0,content:!0}),f.forEach(m),s=I(c),_=h(c,"SECTION",{class:!0});var q=p(_);e=h(q,"DIV",{class:!0});var g=p(e);l=h(g,"H1",{});var O=p(l);v=P(O,t),O.forEach(m),A=I(g),S=h(g,"P",{});var U=p(S);oe=P(U,B),U.forEach(m),he=I(g),X=h(g,"DIV",{class:!0});var ee=p(X);C=h(ee,"DIV",{class:!0});var V=p(C);T=h(V,"IMG",{src:!0,alt:!0,class:!0}),_e=I(V),Z=h(V,"SPAN",{class:!0});var te=p(Z);ue=P(te,W),te.forEach(m),pe=I(V),J=h(V,"DIV",{class:!0});var ae=p(J);K=h(ae,"SPAN",{class:!0});var se=p(K);ie=P(se,Y),se.forEach(m),ae.forEach(m),V.forEach(m),ee.forEach(m),ve=I(g),b=h(g,"DIV",{class:!0});var N=p(b);x=h(N,"H3",{});var le=p(x);ge=P(le,"Comments"),le.forEach(m),be=I(N),j=h(N,"FORM",{method:!0,action:!0});var z=p(j);R=h(z,"INPUT",{type:!0,name:!0,id:!0}),we=I(z),H=h(z,"DIV",{class:!0});var F=p(H);w=h(F,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),p(w).forEach(m),Ee=I(F),G=h(F,"BUTTON",{type:!0,class:!0});var Re=p(G);Ae=P(Re,"Submit"),Re.forEach(m),F.forEach(m),z.forEach(m),ye=I(N),L=h(N,"H6",{class:!0});var He=p(L);ke=P(He,"Recent comments"),He.forEach(m),De=I(N),k.l(N),N.forEach(m),g.forEach(m),q.forEach(m),this.h()},h(){var c,f,q,g,O,U;o(i,"name","description"),o(i,"content",u=(c=r[0].ama)==null?void 0:c.description),Me(T.src,re=(q=(f=r[0].ama)==null?void 0:f.user)==null?void 0:q.image)||o(T,"src",re),o(T,"alt",ce=(O=(g=r[0].ama)==null?void 0:g.user)==null?void 0:O.name),o(T,"class","h-12 w-12 rounded-full"),o(Z,"class","font-medium text-gray-900"),o(K,"class","text-gray-500"),o(J,"class","text-right"),o(C,"class","flow-row flex items-center justify-center space-x-3"),o(X,"class","flex flex-row items-center justify-between"),o(R,"type","hidden"),o(R,"name","amaId"),o(R,"id","amaId"),R.value=me=(U=r[0].ama)==null?void 0:U.id,o(w,"name","comment"),o(w,"id","comment"),o(w,"placeholder","Share your thoughts..."),o(w,"rows","3"),o(w,"class","w-full whitespace-pre-line rounded-md border border-gray-300 p-3"),o(G,"type","submit"),o(G,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),o(H,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),o(j,"method","post"),o(j,"action","?/create"),o(L,"class","py-3"),o(b,"class","flex w-full flex-col"),o(e,"class","flex w-full flex-col space-y-3"),o(_,"class","flex w-full flex-col")},m(c,f){a(document.head,i),de(c,s,f),de(c,_,f),a(_,e),a(e,l),a(l,v),a(e,A),a(e,S),a(S,oe),a(e,he),a(e,X),a(X,C),a(C,T),a(C,_e),a(C,Z),a(Z,ue),a(C,pe),a(C,J),a(J,K),a(K,ie),a(e,ve),a(e,b),a(b,x),a(x,ge),a(b,be),a(b,j),a(j,R),a(j,we),a(j,H),a(H,w),Oe(w,r[1]),a(H,Ee),a(H,G),a(G,Ae),a(b,ye),a(b,L),a(L,ke),a(b,De),M[y].m(b,null),E=!0,Ie||(Ne=[Ue(w,"input",r[4]),Ue(w,"keydown",r[3])],Ie=!0)},p(c,[f]){var g,O,U,ee,V,te,ae,se,N,le,z,F;(!E||f&1)&&n!==(n=((g=c[0].ama)==null?void 0:g.question)+" – Spikey Sanju")&&(document.title=n),(!E||f&1&&u!==(u=(O=c[0].ama)==null?void 0:O.description))&&o(i,"content",u),(!E||f&1)&&t!==(t=((U=c[0].ama)==null?void 0:U.question)+"")&&fe(v,t),(!E||f&1)&&B!==(B=((ee=c[0].ama)==null?void 0:ee.description)+"")&&fe(oe,B),(!E||f&1&&!Me(T.src,re=(te=(V=c[0].ama)==null?void 0:V.user)==null?void 0:te.image))&&o(T,"src",re),(!E||f&1&&ce!==(ce=(se=(ae=c[0].ama)==null?void 0:ae.user)==null?void 0:se.name))&&o(T,"alt",ce),(!E||f&1)&&W!==(W=((le=(N=c[0].ama)==null?void 0:N.user)==null?void 0:le.name)+"")&&fe(ue,W),(!E||f&1)&&Y!==(Y=ze(new Date(`${(z=c[0].ama)==null?void 0:z.createdAt}`),new Date)+"")&&fe(ie,Y),(!E||f&1&&me!==(me=(F=c[0].ama)==null?void 0:F.id))&&(R.value=me),f&2&&Oe(w,c[1]);let q=y;y=Te(c),y===q?M[y].p(c,f):(Je(),ne(M[q],1,1,()=>{M[q]=null}),Ze(),k=M[y],k?k.p(c,f):(k=M[y]=Ce[y](c),k.c()),Q(k,1),k.m(b,null))},i(c){E||(Q(k),E=!0)},o(c){ne(k),E=!1},d(c){m(i),c&&m(s),c&&m(_),M[y].d(),Ie=!1,Ye(Ne)}}}function ut(r,n,i){let{data:u}=n,s="";function _(t){var v,A,S,B;return((v=u.ama)==null?void 0:v.userId)===t&&((A=u.user)==null?void 0:A.role)==="USER"?"Author":((S=u.ama)==null?void 0:S.userId)===t&&((B=u.user)==null?void 0:B.role)==="ADMIN"?"Creator":"Guest"}function e(t){xe.call(this,r,t)}function l(){s=this.value,i(1,s)}return r.$$set=t=>{"data"in t&&i(0,u=t.data)},[u,s,_,e,l]}class ft extends Ke{constructor(n){super(),Le(this,n,ut,ct,Qe,{data:0})}}export{ft as default};
