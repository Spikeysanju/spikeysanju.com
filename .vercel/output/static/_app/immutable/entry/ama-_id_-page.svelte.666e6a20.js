import{S as Ke,i as Le,s as We,k as d,a as D,q as V,R as Ye,l as h,h as m,c as I,m as p,r as $,n as o,T as Me,D as a,b as de,a1 as Oe,E as Ue,a2 as Ze,u as fe,d as ne,f as Xe,g as W,P as xe,v as Je,Q as et,C as Se,e as Ge,a0 as tt,y as at,z as st,A as lt,B as nt}from"../chunks/index.8632a010.js";import{f as ze,A as ot}from"../chunks/AmaCommentCard.b13dcf4a.js";import{e as rt}from"../chunks/forms.402a0842.js";function Fe(r,n,i){const u=r.slice();return u[5]=n[i],u}function ct(r){let n,i,u,s,_,e;return{c(){n=d("div"),i=d("h5"),u=V("No comments found."),s=D(),_=d("p"),e=V("Be the first to comment."),this.h()},l(l){n=h(l,"DIV",{class:!0});var t=p(n);i=h(t,"H5",{});var v=p(i);u=$(v,"No comments found."),v.forEach(m),s=I(t),_=h(t,"P",{class:!0});var y=p(_);e=$(y,"Be the first to comment."),y.forEach(m),t.forEach(m),this.h()},h(){o(_,"class","text-gray-500"),o(n,"class","flex h-full w-full flex-col items-center justify-center")},m(l,t){de(l,n,t),a(n,i),a(i,u),a(n,s),a(n,_),a(_,e)},p:Se,i:Se,o:Se,d(l){l&&m(n)}}}function ut(r){let n,i,u=r[0].comments,s=[];for(let e=0;e<u.length;e+=1)s[e]=Qe(Fe(r,u,e));const _=e=>ne(s[e],1,1,()=>{s[e]=null});return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=Ge()},l(e){for(let l=0;l<s.length;l+=1)s[l].l(e);n=Ge()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);de(e,n,l),i=!0},p(e,l){if(l&5){u=e[0].comments;let t;for(t=0;t<u.length;t+=1){const v=Fe(e,u,t);s[t]?(s[t].p(v,l),W(s[t],1)):(s[t]=Qe(v),s[t].c(),W(s[t],1),s[t].m(n.parentNode,n))}for(Je(),t=u.length;t<s.length;t+=1)_(t);Xe()}},i(e){if(!i){for(let l=0;l<u.length;l+=1)W(s[l]);i=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)ne(s[l]);i=!1},d(e){tt(s,e),e&&m(n)}}}function Qe(r){var u,s,_;let n,i;return n=new ot({props:{name:((u=r[5].user)==null?void 0:u.name)??"Anonymous",image:((s=r[5].user)==null?void 0:s.image)??"/images/anonymous.png",content:r[5].content??"",isAuthor:r[2](((_=r[5].user)==null?void 0:_.id)??"Anonymous"),createdAt:r[5].createdAt??""}}),{c(){at(n.$$.fragment)},l(e){st(n.$$.fragment,e)},m(e,l){lt(n,e,l),i=!0},p(e,l){var v,y,S;const t={};l&1&&(t.name=((v=e[5].user)==null?void 0:v.name)??"Anonymous"),l&1&&(t.image=((y=e[5].user)==null?void 0:y.image)??"/images/anonymous.png"),l&1&&(t.content=e[5].content??""),l&1&&(t.isAuthor=e[2](((S=e[5].user)==null?void 0:S.id)??"Anonymous")),l&1&&(t.createdAt=e[5].createdAt??""),n.$set(t)},i(e){i||(W(n.$$.fragment,e),i=!0)},o(e){ne(n.$$.fragment,e),i=!1},d(e){nt(n,e)}}}function it(r){var je,qe,Pe,Ve,$e,Re;let n,i,u,s,_,e,l,t=((je=r[0].ama)==null?void 0:je.question)+"",v,y,S,R=((qe=r[0].ama)==null?void 0:qe.description)+"",oe,he,Q,C,T,re,ce,_e,X,Y=((Ve=(Pe=r[0].ama)==null?void 0:Pe.user)==null?void 0:Ve.name)+"",ue,pe,J,K,Z=ze(new Date(`${($e=r[0].ama)==null?void 0:$e.createdAt}`),new Date)+"",ie,ve,b,x,ge,be,j,B,me,we,H,w,Ee,G,ye,ke,L,Ae,De,k,A,E,Ie,Ne;document.title=n=((Re=r[0].ama)==null?void 0:Re.question)+" – Spikey Sanju";const Ce=[ut,ct],M=[];function Te(c,f){return c[0].comments.length>0?0:1}return k=Te(r),A=M[k]=Ce[k](r),{c(){i=d("meta"),s=D(),_=d("section"),e=d("div"),l=d("h1"),v=V(t),y=D(),S=d("p"),oe=V(R),he=D(),Q=d("div"),C=d("div"),T=d("img"),_e=D(),X=d("span"),ue=V(Y),pe=D(),J=d("div"),K=d("span"),ie=V(Z),ve=D(),b=d("div"),x=d("h3"),ge=V("Comments"),be=D(),j=d("form"),B=d("input"),we=D(),H=d("div"),w=d("textarea"),Ee=D(),G=d("button"),ye=V("Submit"),ke=D(),L=d("h6"),Ae=V("Recent comments"),De=D(),A.c(),this.h()},l(c){const f=Ye("svelte-gj289e",document.head);i=h(f,"META",{name:!0,content:!0}),f.forEach(m),s=I(c),_=h(c,"SECTION",{class:!0});var q=p(_);e=h(q,"DIV",{class:!0});var g=p(e);l=h(g,"H1",{});var O=p(l);v=$(O,t),O.forEach(m),y=I(g),S=h(g,"P",{});var U=p(S);oe=$(U,R),U.forEach(m),he=I(g),Q=h(g,"DIV",{class:!0});var ee=p(Q);C=h(ee,"DIV",{class:!0});var P=p(C);T=h(P,"IMG",{src:!0,alt:!0,class:!0}),_e=I(P),X=h(P,"SPAN",{class:!0});var te=p(X);ue=$(te,Y),te.forEach(m),pe=I(P),J=h(P,"DIV",{class:!0});var ae=p(J);K=h(ae,"SPAN",{class:!0});var se=p(K);ie=$(se,Z),se.forEach(m),ae.forEach(m),P.forEach(m),ee.forEach(m),ve=I(g),b=h(g,"DIV",{class:!0});var N=p(b);x=h(N,"H3",{});var le=p(x);ge=$(le,"Comments"),le.forEach(m),be=I(N),j=h(N,"FORM",{method:!0,action:!0});var z=p(j);B=h(z,"INPUT",{type:!0,name:!0,id:!0}),we=I(z),H=h(z,"DIV",{class:!0});var F=p(H);w=h(F,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),p(w).forEach(m),Ee=I(F),G=h(F,"BUTTON",{type:!0,class:!0});var Be=p(G);ye=$(Be,"Submit"),Be.forEach(m),F.forEach(m),z.forEach(m),ke=I(N),L=h(N,"H6",{class:!0});var He=p(L);Ae=$(He,"Recent comments"),He.forEach(m),De=I(N),A.l(N),N.forEach(m),g.forEach(m),q.forEach(m),this.h()},h(){var c,f,q,g,O,U;o(i,"name","description"),o(i,"content",u=(c=r[0].ama)==null?void 0:c.description),Me(T.src,re=(q=(f=r[0].ama)==null?void 0:f.user)==null?void 0:q.image)||o(T,"src",re),o(T,"alt",ce=(O=(g=r[0].ama)==null?void 0:g.user)==null?void 0:O.name),o(T,"class","h-12 w-12 rounded-full"),o(X,"class","font-medium text-gray-900"),o(K,"class","text-gray-500"),o(J,"class","text-right"),o(C,"class","flow-row flex items-center justify-center space-x-3"),o(Q,"class","flex flex-row items-center justify-between"),o(B,"type","hidden"),o(B,"name","amaId"),o(B,"id","amaId"),B.value=me=(U=r[0].ama)==null?void 0:U.id,o(w,"name","comment"),o(w,"id","comment"),o(w,"placeholder","Share your thoughts..."),o(w,"rows","3"),o(w,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white"),o(G,"type","submit"),o(G,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),o(H,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),o(j,"method","post"),o(j,"action","?/create"),o(L,"class","py-3"),o(b,"class","flex w-full flex-col"),o(e,"class","flex w-full flex-col space-y-3"),o(_,"class","flex min-h-screen w-full flex-col")},m(c,f){a(document.head,i),de(c,s,f),de(c,_,f),a(_,e),a(e,l),a(l,v),a(e,y),a(e,S),a(S,oe),a(e,he),a(e,Q),a(Q,C),a(C,T),a(C,_e),a(C,X),a(X,ue),a(C,pe),a(C,J),a(J,K),a(K,ie),a(e,ve),a(e,b),a(b,x),a(x,ge),a(b,be),a(b,j),a(j,B),a(j,we),a(j,H),a(H,w),Oe(w,r[1]),a(H,Ee),a(H,G),a(G,ye),a(b,ke),a(b,L),a(L,Ae),a(b,De),M[k].m(b,null),E=!0,Ie||(Ne=[Ue(w,"input",r[4]),Ue(w,"keydown",r[3]),Ze(rt.call(null,j))],Ie=!0)},p(c,[f]){var g,O,U,ee,P,te,ae,se,N,le,z,F;(!E||f&1)&&n!==(n=((g=c[0].ama)==null?void 0:g.question)+" – Spikey Sanju")&&(document.title=n),(!E||f&1&&u!==(u=(O=c[0].ama)==null?void 0:O.description))&&o(i,"content",u),(!E||f&1)&&t!==(t=((U=c[0].ama)==null?void 0:U.question)+"")&&fe(v,t),(!E||f&1)&&R!==(R=((ee=c[0].ama)==null?void 0:ee.description)+"")&&fe(oe,R),(!E||f&1&&!Me(T.src,re=(te=(P=c[0].ama)==null?void 0:P.user)==null?void 0:te.image))&&o(T,"src",re),(!E||f&1&&ce!==(ce=(se=(ae=c[0].ama)==null?void 0:ae.user)==null?void 0:se.name))&&o(T,"alt",ce),(!E||f&1)&&Y!==(Y=((le=(N=c[0].ama)==null?void 0:N.user)==null?void 0:le.name)+"")&&fe(ue,Y),(!E||f&1)&&Z!==(Z=ze(new Date(`${(z=c[0].ama)==null?void 0:z.createdAt}`),new Date)+"")&&fe(ie,Z),(!E||f&1&&me!==(me=(F=c[0].ama)==null?void 0:F.id))&&(B.value=me),f&2&&Oe(w,c[1]);let q=k;k=Te(c),k===q?M[k].p(c,f):(Je(),ne(M[q],1,1,()=>{M[q]=null}),Xe(),A=M[k],A?A.p(c,f):(A=M[k]=Ce[k](c),A.c()),W(A,1),A.m(b,null))},i(c){E||(W(A),E=!0)},o(c){ne(A),E=!1},d(c){m(i),c&&m(s),c&&m(_),M[k].d(),Ie=!1,xe(Ne)}}}function mt(r,n,i){let{data:u}=n,s="";function _(t){var v,y,S,R;return((v=u.ama)==null?void 0:v.userId)===t&&((y=u.user)==null?void 0:y.role)==="USER"?"Author":((S=u.ama)==null?void 0:S.userId)===t&&((R=u.user)==null?void 0:R.role)==="ADMIN"?"Creator":"Guest"}function e(t){et.call(this,r,t)}function l(){s=this.value,i(1,s)}return r.$$set=t=>{"data"in t&&i(0,u=t.data)},[u,s,_,e,l]}class _t extends Ke{constructor(n){super(),Le(this,n,mt,it,We,{data:0})}}export{_t as default};
