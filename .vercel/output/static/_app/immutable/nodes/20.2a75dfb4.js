import{d as Ue,e as Re}from"../chunks/forms.66c8e974.js";import{s as Fe,f as _,a as S,l as ue,J as Xe,g as p,d as g,c as x,h as E,m as ce,r as te,j as i,K as je,u,i as J,n as me,w as Ne,E as ze,F as Je,v as ge,B as fe,W as qe,X as Ke,D as We,e as Me,O as $e}from"../chunks/scheduler.bf64c14b.js";import{S as Qe,i as Ye,t as ae,c as Ge,a as z,g as Le,b as Ze,d as et,m as tt,e as at}from"../chunks/index.176ec7d1.js";import{e as Ve}from"../chunks/each.e59479a4.js";import{A as st}from"../chunks/AmaCommentCard.de0f681d.js";import{s as Oe}from"../chunks/store.560762cd.js";import{p as lt}from"../chunks/stores.5421ed31.js";import{f as Pe}from"../chunks/index.357ffd1e.js";const nt=Ue,ot=!1,kt=Object.freeze(Object.defineProperty({__proto__:null,csr:nt,prerender:ot},Symbol.toStringTag,{value:"Module"}));function Be(l,t,n){const r=l.slice();return r[8]=t[n],r}function rt(l){let t,n="Sign in to comment",r,a;return{c(){t=_("button"),t.textContent=n,this.h()},l(m){t=p(m,"BUTTON",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-6ca30w"&&(t.textContent=n),this.h()},h(){i(t,"class","rounded-sm border border-gray-200 bg-gray-100 px-3 py-2 font-medium text-black shadow-sm hover:cursor-pointer hover:bg-gray-200")},m(m,e){J(m,t,e),r||(a=ge(t,"click",l[7]),r=!0)},p:fe,d(m){m&&g(t),r=!1,a()}}}function it(l){let t,n,r,a,m,e,o,s,d,C,f,j="Submit",V,L;return{c(){t=_("form"),n=_("input"),a=S(),m=_("input"),o=S(),s=_("div"),d=_("textarea"),C=S(),f=_("button"),f.textContent=j,this.h()},l(b){t=p(b,"FORM",{method:!0,action:!0});var h=E(t);n=p(h,"INPUT",{type:!0,name:!0,id:!0}),a=x(h),m=p(h,"INPUT",{type:!0,name:!0,id:!0}),o=x(h),s=p(h,"DIV",{class:!0});var w=E(s);d=p(w,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),E(d).forEach(g),C=x(w),f=p(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),te(f)!=="svelte-vssywp"&&(f.textContent=j),w.forEach(g),h.forEach(g),this.h()},h(){var b,h;i(n,"type","hidden"),i(n,"name","amaId"),i(n,"id","amaId"),n.value=r=(b=l[0].ama)==null?void 0:b.id,i(m,"type","hidden"),i(m,"name","amaTitle"),i(m,"id","amaTitle"),m.value=e=(h=l[0].ama)==null?void 0:h.question,i(d,"name","comment"),i(d,"id","comment"),i(d,"placeholder","Share your thoughts..."),i(d,"rows","3"),i(d,"class","block w-full rounded-md border-gray-300 shadow-sm focus:border-black focus:ring-black dark:border-gray-500 dark:bg-purpleontop dark:focus:border-white"),i(f,"type","submit"),i(f,"class","w-full rounded bg-black px-4 py-3 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),i(s,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-x-3 sm:space-y-0"),i(t,"method","post"),i(t,"action","?/create")},m(b,h){J(b,t,h),u(t,n),u(t,a),u(t,m),u(t,o),u(t,s),u(s,d),qe(d,l[1]),u(s,C),u(s,f),V||(L=[ge(d,"input",l[6]),ge(d,"keydown",l[5]),Ke(Re.call(null,t))],V=!0)},p(b,h){var w,A;h&1&&r!==(r=(w=b[0].ama)==null?void 0:w.id)&&(n.value=r),h&1&&e!==(e=(A=b[0].ama)==null?void 0:A.question)&&(m.value=e),h&2&&qe(d,b[1])},d(b){b&&g(t),V=!1,We(L)}}}function ut(l){let t,n='<h5>No comments found.</h5> <p class="text-gray-500">Be the first to comment.</p>';return{c(){t=_("div"),t.innerHTML=n,this.h()},l(r){t=p(r,"DIV",{class:!0,"data-svelte-h":!0}),te(t)!=="svelte-7tb4py"&&(t.innerHTML=n),this.h()},h(){i(t,"class","flex h-full w-full flex-col items-center justify-center")},m(r,a){J(r,t,a)},p:fe,i:fe,o:fe,d(r){r&&g(t)}}}function ct(l){let t,n,r=Ve(l[0].ama.comment),a=[];for(let e=0;e<r.length;e+=1)a[e]=He(Be(l,r,e));const m=e=>ae(a[e],1,1,()=>{a[e]=null});return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=Me()},l(e){for(let o=0;o<a.length;o+=1)a[o].l(e);t=Me()},m(e,o){for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(e,o);J(e,t,o),n=!0},p(e,o){if(o&17){r=Ve(e[0].ama.comment);let s;for(s=0;s<r.length;s+=1){const d=Be(e,r,s);a[s]?(a[s].p(d,o),z(a[s],1)):(a[s]=He(d),a[s].c(),z(a[s],1),a[s].m(t.parentNode,t))}for(Le(),s=r.length;s<a.length;s+=1)m(s);Ge()}},i(e){if(!n){for(let o=0;o<r.length;o+=1)z(a[o]);n=!0}},o(e){a=a.filter(Boolean);for(let o=0;o<a.length;o+=1)ae(a[o]);n=!1},d(e){e&&g(t),$e(a,e)}}}function He(l){var r,a,m;let t,n;return t=new st({props:{name:((r=l[0].ama.user)==null?void 0:r.name)??"Anonymous",image:((a=l[0].ama.user)==null?void 0:a.image)??"/images/anonymous.png",content:l[8].content??"",isAuthor:l[4](((m=l[0].ama.user)==null?void 0:m.id)??"Guest"),createdAt:l[8].createdAt??""}}),{c(){Ze(t.$$.fragment)},l(e){et(t.$$.fragment,e)},m(e,o){tt(t,e,o),n=!0},p(e,o){var d,C,f;const s={};o&1&&(s.name=((d=e[0].ama.user)==null?void 0:d.name)??"Anonymous"),o&1&&(s.image=((C=e[0].ama.user)==null?void 0:C.image)??"/images/anonymous.png"),o&1&&(s.content=e[8].content??""),o&1&&(s.isAuthor=e[4](((f=e[0].ama.user)==null?void 0:f.id)??"Guest")),o&1&&(s.createdAt=e[8].createdAt??""),t.$set(s)},i(e){n||(z(t.$$.fragment,e),n=!0)},o(e){ae(t.$$.fragment,e),n=!1},d(e){at(t,e)}}}function mt(l){var Ae,Ce,Ie,Te,De,Se;let t,n,r,a,m,e,o,s=((Ae=l[0].ama)==null?void 0:Ae.question)+"",d,C,f,j=((Ce=l[0].ama)==null?void 0:Ce.description)+"",V,L,b,h,w,A,se,le,de,U,K=((Te=(Ie=l[0].ama)==null?void 0:Ie.user)==null?void 0:Te.name)+"",ne,he,R,F,W=Pe(new Date(`${(De=l[0].ama)==null?void 0:De.createdAt}`),new Date)+"",oe,_e,k,X,be="Comments",pe,re,B,we="Recent comments",ve,I,T,D;document.title=t=((Se=l[0].ama)==null?void 0:Se.question)+" | Spikey Sanju";function ke(c,v){return c[2].data.session&&c[2].data.session.user?it:rt}let ie=ke(l),N=ie(l);const ye=[ct,ut],O=[];function Ee(c,v){return c[0].ama.comment.length>0?0:1}return I=Ee(l),T=O[I]=ye[I](l),{c(){n=_("meta"),a=S(),m=_("section"),e=_("div"),o=_("h1"),d=ue(s),C=S(),f=_("p"),V=ue(j),L=S(),b=_("div"),h=_("div"),w=_("div"),A=_("img"),de=S(),U=_("span"),ne=ue(K),he=S(),R=_("div"),F=_("span"),oe=ue(W),_e=S(),k=_("div"),X=_("h3"),X.textContent=be,pe=S(),N.c(),re=S(),B=_("h6"),B.textContent=we,ve=S(),T.c(),this.h()},l(c){const v=Xe("svelte-8blg73",document.head);n=p(v,"META",{name:!0,content:!0}),v.forEach(g),a=x(c),m=p(c,"SECTION",{class:!0});var M=E(m);e=p(M,"DIV",{class:!0});var y=E(e);o=p(y,"H1",{});var P=E(o);d=ce(P,s),P.forEach(g),C=x(y),f=p(y,"P",{});var $=E(f);V=ce($,j),$.forEach(g),L=x(y),b=p(y,"DIV",{class:!0});var Q=E(b);h=p(Q,"DIV",{class:!0});var H=E(h);w=p(H,"DIV",{class:!0});var G=E(w);A=p(G,"IMG",{src:!0,alt:!0,class:!0}),de=x(G),U=p(G,"SPAN",{class:!0});var Y=E(U);ne=ce(Y,K),Y.forEach(g),G.forEach(g),he=x(H),R=p(H,"DIV",{class:!0});var Z=E(R);F=p(Z,"SPAN",{class:!0});var ee=E(F);oe=ce(ee,W),ee.forEach(g),Z.forEach(g),H.forEach(g),Q.forEach(g),_e=x(y),k=p(y,"DIV",{class:!0});var q=E(k);X=p(q,"H3",{"data-svelte-h":!0}),te(X)!=="svelte-kc6sae"&&(X.textContent=be),pe=x(q),N.l(q),re=x(q),B=p(q,"H6",{class:!0,"data-svelte-h":!0}),te(B)!=="svelte-ixrxyr"&&(B.textContent=we),ve=x(q),T.l(q),q.forEach(g),y.forEach(g),M.forEach(g),this.h()},h(){var c,v,M,y,P;i(n,"name","description"),i(n,"content",r=(c=l[0].ama)==null?void 0:c.description),je(A.src,se=(M=(v=l[0].ama)==null?void 0:v.user)==null?void 0:M.image)||i(A,"src",se),i(A,"alt",le=(P=(y=l[0].ama)==null?void 0:y.user)==null?void 0:P.name),i(A,"class","h-12 w-12 rounded-full"),i(U,"class","font-medium text-black dark:text-white"),i(w,"class","flex flex-row items-center gap-3"),i(F,"class","text-gray-500"),i(R,"class","text-right"),i(h,"class","flow-row flex w-full items-center justify-between space-x-3"),i(b,"class","flex flex-row items-center justify-between"),i(B,"class","py-3"),i(k,"class","flex w-full flex-col"),i(e,"class","flex w-full flex-col space-y-3"),i(m,"class","flex min-h-screen w-full flex-col")},m(c,v){u(document.head,n),J(c,a,v),J(c,m,v),u(m,e),u(e,o),u(o,d),u(e,C),u(e,f),u(f,V),u(e,L),u(e,b),u(b,h),u(h,w),u(w,A),u(w,de),u(w,U),u(U,ne),u(h,he),u(h,R),u(R,F),u(F,oe),u(e,_e),u(e,k),u(k,X),u(k,pe),N.m(k,null),u(k,re),u(k,B),u(k,ve),O[I].m(k,null),D=!0},p(c,[v]){var y,P,$,Q,H,G,Y,Z,ee,q,xe;(!D||v&1)&&t!==(t=((y=c[0].ama)==null?void 0:y.question)+" | Spikey Sanju")&&(document.title=t),(!D||v&1&&r!==(r=(P=c[0].ama)==null?void 0:P.description))&&i(n,"content",r),(!D||v&1)&&s!==(s=(($=c[0].ama)==null?void 0:$.question)+"")&&me(d,s),(!D||v&1)&&j!==(j=((Q=c[0].ama)==null?void 0:Q.description)+"")&&me(V,j),(!D||v&1&&!je(A.src,se=(G=(H=c[0].ama)==null?void 0:H.user)==null?void 0:G.image))&&i(A,"src",se),(!D||v&1&&le!==(le=(Z=(Y=c[0].ama)==null?void 0:Y.user)==null?void 0:Z.name))&&i(A,"alt",le),(!D||v&1)&&K!==(K=((q=(ee=c[0].ama)==null?void 0:ee.user)==null?void 0:q.name)+"")&&me(ne,K),(!D||v&1)&&W!==(W=Pe(new Date(`${(xe=c[0].ama)==null?void 0:xe.createdAt}`),new Date)+"")&&me(oe,W),ie===(ie=ke(c))&&N?N.p(c,v):(N.d(1),N=ie(c),N&&(N.c(),N.m(k,re)));let M=I;I=Ee(c),I===M?O[I].p(c,v):(Le(),ae(O[M],1,1,()=>{O[M]=null}),Ge(),T=O[I],T?T.p(c,v):(T=O[I]=ye[I](c),T.c()),z(T,1),T.m(k,null))},i(c){D||(z(T),D=!0)},o(c){ae(T),D=!1},d(c){c&&(g(a),g(m)),g(n),N.d(),O[I].d()}}}function ft(l,t,n){let r,a;Ne(l,lt,f=>n(2,r=f)),Ne(l,Oe,f=>n(3,a=f));let{data:m}=t,e="";function o(f){var j;return((j=m.ama)==null?void 0:j.userId)===f?"Author":"Guest"}function s(f){ze.call(this,l,f)}function d(){e=this.value,n(1,e)}const C=()=>Je(Oe,a=!0,a);return l.$$set=f=>{"data"in f&&n(0,m=f.data)},[m,e,r,a,o,s,d,C]}class yt extends Qe{constructor(t){super(),Ye(this,t,ft,mt,Fe,{data:0})}}export{yt as component,kt as universal};
