import{s as x,f as b,a as O,l as I,J as F,g as y,d as _,c as z,h as j,m as L,j as d,u as k,i as E,n as J,O as G,r as K}from"../chunks/scheduler.bf64c14b.js";import{S as Q,i as R,a as w,c as U,t as H,b as W,d as X,m as Y,e as Z,g as ee}from"../chunks/index.176ec7d1.js";import{e as A}from"../chunks/each.e59479a4.js";import{B as te}from"../chunks/BookCard.ebe211b4.js";import{c as D}from"../chunks/utils.39804466.js";const ae=async({fetch:r,params:e})=>{const{category:a}=e,o=(await(await r("/api/books")).json()).filter(i=>i.meta.categories.includes(a));return{category:a,books:o,params:e}},fe=Object.freeze(Object.defineProperty({__proto__:null,load:ae},Symbol.toStringTag,{value:"Module"}));function N(r,e,a){const n=r.slice();return n[1]=e[a],n}function P(r){let e,a,n,f;return a=new te({props:{title:r[1].meta.title,author:r[1].meta.author,image:r[1].meta.image}}),{c(){e=b("a"),W(a.$$.fragment),this.h()},l(o){e=y(o,"A",{href:!0});var i=j(e);X(a.$$.fragment,i),i.forEach(_),this.h()},h(){d(e,"href",n=`/books/${r[1].path}`)},m(o,i){E(o,e,i),Y(a,e,null),f=!0},p(o,i){const h={};i&1&&(h.title=o[1].meta.title),i&1&&(h.author=o[1].meta.author),i&1&&(h.image=o[1].meta.image),a.$set(h),(!f||i&1&&n!==(n=`/books/${o[1].path}`))&&d(e,"href",n)},i(o){f||(w(a.$$.fragment,o),f=!0)},o(o){H(a.$$.fragment,o),f=!1},d(o){o&&_(e),Z(a)}}}function V(r){let e,a='<h2 class="text-2xl">No books found.</h2>';return{c(){e=b("div"),e.innerHTML=a,this.h()},l(n){e=y(n,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-azmv4p"&&(e.innerHTML=a),this.h()},h(){d(e,"class","flex h-full w-full flex-col items-center justify-center")},m(n,f){E(n,e,f)},d(n){n&&_(e)}}}function oe(r){let e,a,n,f,o,i,h=D(r[0].params.category)+"",$,T,C,m,B,g;document.title=e="Books in "+r[0].category+" | Spikey Sanju";let p=A(r[0].books),s=[];for(let t=0;t<p.length;t+=1)s[t]=P(N(r,p,t));const q=t=>H(s[t],1,1,()=>{s[t]=null});let u=r[0].books.length===0&&V();return{c(){a=b("meta"),f=O(),o=b("section"),i=b("h1"),$=I(h),T=I(" Books."),C=O(),m=b("div");for(let t=0;t<s.length;t+=1)s[t].c();B=O(),u&&u.c(),this.h()},l(t){const c=F("svelte-1cv01rm",document.head);a=y(c,"META",{name:!0,content:!0}),c.forEach(_),f=z(t),o=y(t,"SECTION",{class:!0});var l=j(o);i=y(l,"H1",{class:!0});var v=j(i);$=L(v,h),T=L(v," Books."),v.forEach(_),C=z(l),m=y(l,"DIV",{class:!0});var S=j(m);for(let M=0;M<s.length;M+=1)s[M].l(S);B=z(S),u&&u.l(S),S.forEach(_),l.forEach(_),this.h()},h(){d(a,"name","description"),d(a,"content",n=r[0].category),d(i,"class","w-full text-start tracking-tight"),d(m,"class","mt-6 grid w-full grid-cols-[repeat(auto-fill,minmax(theme(width.40),1fr))] gap-6"),d(o,"class","flex min-h-screen w-full flex-col items-center justify-start")},m(t,c){k(document.head,a),E(t,f,c),E(t,o,c),k(o,i),k(i,$),k(i,T),k(o,C),k(o,m);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(m,null);k(m,B),u&&u.m(m,null),g=!0},p(t,[c]){if((!g||c&1)&&e!==(e="Books in "+t[0].category+" | Spikey Sanju")&&(document.title=e),(!g||c&1&&n!==(n=t[0].category))&&d(a,"content",n),(!g||c&1)&&h!==(h=D(t[0].params.category)+"")&&J($,h),c&1){p=A(t[0].books);let l;for(l=0;l<p.length;l+=1){const v=N(t,p,l);s[l]?(s[l].p(v,c),w(s[l],1)):(s[l]=P(v),s[l].c(),w(s[l],1),s[l].m(m,B))}for(ee(),l=p.length;l<s.length;l+=1)q(l);U()}t[0].books.length===0?u||(u=V(),u.c(),u.m(m,null)):u&&(u.d(1),u=null)},i(t){if(!g){for(let c=0;c<p.length;c+=1)w(s[c]);g=!0}},o(t){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)H(s[c]);g=!1},d(t){t&&(_(f),_(o)),_(a),G(s,t),u&&u.d()}}}function le(r,e,a){let{data:n}=e;return r.$$set=f=>{"data"in f&&a(0,n=f.data)},[n]}class ue extends Q{constructor(e){super(),R(this,e,le,oe,x,{data:0})}}export{ue as component,fe as universal};
