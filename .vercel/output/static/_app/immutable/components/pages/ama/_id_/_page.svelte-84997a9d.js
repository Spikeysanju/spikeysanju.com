import{S as Je,i as Ke,s as Le,k as d,a as D,q as $,a3 as Qe,l as h,h as m,c as I,m as p,r as P,n as o,a4 as Me,D as a,b as de,Z as Oe,O as Ue,u as fe,t as ne,d as Ze,f as L,U as We,g as xe,a2 as Ye,C as Se,e as Ge,T as et,x as tt,y as at,z as st,A as lt}from"../../../../chunks/index-695f9ad5.js";import{f as ze,A as nt}from"../../../../chunks/AmaCommentCard-8693f6ef.js";function Fe(r,n,i){const u=r.slice();return u[5]=n[i],u}function ot(r){let n,i,u,s,_,e;return{c(){n=d("div"),i=d("h5"),u=$("No comments found."),s=D(),_=d("p"),e=$("Be the first to comment."),this.h()},l(l){n=h(l,"DIV",{class:!0});var t=p(n);i=h(t,"H5",{});var v=p(i);u=P(v,"No comments found."),v.forEach(m),s=I(t),_=h(t,"P",{class:!0});var A=p(_);e=P(A,"Be the first to comment."),A.forEach(m),t.forEach(m),this.h()},h(){o(_,"class","text-gray-500"),o(n,"class","flex h-full w-full flex-col items-center justify-center")},m(l,t){de(l,n,t),a(n,i),a(i,u),a(n,s),a(n,_),a(_,e)},p:Se,i:Se,o:Se,d(l){l&&m(n)}}}function rt(r){let n,i,u=r[0].comments,s=[];for(let e=0;e<u.length;e+=1)s[e]=Xe(Fe(r,u,e));const _=e=>ne(s[e],1,1,()=>{s[e]=null});return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=Ge()},l(e){for(let l=0;l<s.length;l+=1)s[l].l(e);n=Ge()},m(e,l){for(let t=0;t<s.length;t+=1)s[t].m(e,l);de(e,n,l),i=!0},p(e,l){if(l&5){u=e[0].comments;let t;for(t=0;t<u.length;t+=1){const v=Fe(e,u,t);s[t]?(s[t].p(v,l),L(s[t],1)):(s[t]=Xe(v),s[t].c(),L(s[t],1),s[t].m(n.parentNode,n))}for(xe(),t=u.length;t<s.length;t+=1)_(t);Ze()}},i(e){if(!i){for(let l=0;l<u.length;l+=1)L(s[l]);i=!0}},o(e){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)ne(s[l]);i=!1},d(e){et(s,e),e&&m(n)}}}function Xe(r){var u,s,_;let n,i;return n=new nt({props:{name:((u=r[5].user)==null?void 0:u.name)??"Anonymous",image:((s=r[5].user)==null?void 0:s.image)??"/images/anonymous.png",content:r[5].content??"",isAuthor:r[2](((_=r[5].user)==null?void 0:_.id)??"Anonymous"),createdAt:r[5].createdAt??""}}),{c(){tt(n.$$.fragment)},l(e){at(n.$$.fragment,e)},m(e,l){st(n,e,l),i=!0},p(e,l){var v,A,S;const t={};l&1&&(t.name=((v=e[5].user)==null?void 0:v.name)??"Anonymous"),l&1&&(t.image=((A=e[5].user)==null?void 0:A.image)??"/images/anonymous.png"),l&1&&(t.content=e[5].content??""),l&1&&(t.isAuthor=e[2](((S=e[5].user)==null?void 0:S.id)??"Anonymous")),l&1&&(t.createdAt=e[5].createdAt??""),n.$set(t)},i(e){i||(L(n.$$.fragment,e),i=!0)},o(e){ne(n.$$.fragment,e),i=!1},d(e){lt(n,e)}}}function ct(r){var je,qe,Ve,$e,Pe,Re;let n,i,u,s,_,e,l,t=((je=r[0].ama)==null?void 0:je.question)+"",v,A,S,R=((qe=r[0].ama)==null?void 0:qe.description)+"",oe,he,X,C,T,re,ce,_e,Z,Q=(($e=(Ve=r[0].ama)==null?void 0:Ve.user)==null?void 0:$e.name)+"",ue,pe,x,J,W=ze(new Date(`${(Pe=r[0].ama)==null?void 0:Pe.createdAt}`),new Date)+"",ie,ve,b,Y,ge,be,j,B,me,we,H,w,Ee,G,Ae,ye,K,ke,De,y,k,E,Ie,Ne;document.title=n=((Re=r[0].ama)==null?void 0:Re.question)+" – Spikey Sanju";const Ce=[rt,ot],M=[];function Te(c,f){return c[0].comments.length>0?0:1}return y=Te(r),k=M[y]=Ce[y](r),{c(){i=d("meta"),s=D(),_=d("section"),e=d("div"),l=d("h1"),v=$(t),A=D(),S=d("p"),oe=$(R),he=D(),X=d("div"),C=d("div"),T=d("img"),_e=D(),Z=d("span"),ue=$(Q),pe=D(),x=d("div"),J=d("span"),ie=$(W),ve=D(),b=d("div"),Y=d("h3"),ge=$("Comments"),be=D(),j=d("form"),B=d("input"),we=D(),H=d("div"),w=d("textarea"),Ee=D(),G=d("button"),Ae=$("Submit"),ye=D(),K=d("h6"),ke=$("Recent comments"),De=D(),k.c(),this.h()},l(c){const f=Qe("svelte-gj289e",document.head);i=h(f,"META",{name:!0,content:!0}),f.forEach(m),s=I(c),_=h(c,"SECTION",{class:!0});var q=p(_);e=h(q,"DIV",{class:!0});var g=p(e);l=h(g,"H1",{});var O=p(l);v=P(O,t),O.forEach(m),A=I(g),S=h(g,"P",{});var U=p(S);oe=P(U,R),U.forEach(m),he=I(g),X=h(g,"DIV",{class:!0});var ee=p(X);C=h(ee,"DIV",{class:!0});var V=p(C);T=h(V,"IMG",{src:!0,alt:!0,class:!0}),_e=I(V),Z=h(V,"SPAN",{class:!0});var te=p(Z);ue=P(te,Q),te.forEach(m),pe=I(V),x=h(V,"DIV",{class:!0});var ae=p(x);J=h(ae,"SPAN",{class:!0});var se=p(J);ie=P(se,W),se.forEach(m),ae.forEach(m),V.forEach(m),ee.forEach(m),ve=I(g),b=h(g,"DIV",{class:!0});var N=p(b);Y=h(N,"H3",{});var le=p(Y);ge=P(le,"Comments"),le.forEach(m),be=I(N),j=h(N,"FORM",{method:!0,action:!0});var z=p(j);B=h(z,"INPUT",{type:!0,name:!0,id:!0}),we=I(z),H=h(z,"DIV",{class:!0});var F=p(H);w=h(F,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),p(w).forEach(m),Ee=I(F),G=h(F,"BUTTON",{type:!0,class:!0});var Be=p(G);Ae=P(Be,"Submit"),Be.forEach(m),F.forEach(m),z.forEach(m),ye=I(N),K=h(N,"H6",{class:!0});var He=p(K);ke=P(He,"Recent comments"),He.forEach(m),De=I(N),k.l(N),N.forEach(m),g.forEach(m),q.forEach(m),this.h()},h(){var c,f,q,g,O,U;o(i,"name","description"),o(i,"content",u=(c=r[0].ama)==null?void 0:c.description),Me(T.src,re=(q=(f=r[0].ama)==null?void 0:f.user)==null?void 0:q.image)||o(T,"src",re),o(T,"alt",ce=(O=(g=r[0].ama)==null?void 0:g.user)==null?void 0:O.name),o(T,"class","h-12 w-12 rounded-full"),o(Z,"class","font-medium text-gray-900"),o(J,"class","text-gray-500"),o(x,"class","text-right"),o(C,"class","flow-row flex items-center justify-center space-x-3"),o(X,"class","flex flex-row items-center justify-between"),o(B,"type","hidden"),o(B,"name","amaId"),o(B,"id","amaId"),B.value=me=(U=r[0].ama)==null?void 0:U.id,o(w,"name","comment"),o(w,"id","comment"),o(w,"placeholder","Share your thoughts..."),o(w,"rows","3"),o(w,"class","w-full whitespace-pre-line rounded-md border border-gray-300 p-3"),o(G,"type","submit"),o(G,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),o(H,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),o(j,"method","post"),o(j,"action","?/create"),o(K,"class","py-3"),o(b,"class","flex w-full flex-col"),o(e,"class","flex w-full flex-col space-y-3"),o(_,"class","flex w-full flex-col")},m(c,f){a(document.head,i),de(c,s,f),de(c,_,f),a(_,e),a(e,l),a(l,v),a(e,A),a(e,S),a(S,oe),a(e,he),a(e,X),a(X,C),a(C,T),a(C,_e),a(C,Z),a(Z,ue),a(C,pe),a(C,x),a(x,J),a(J,ie),a(e,ve),a(e,b),a(b,Y),a(Y,ge),a(b,be),a(b,j),a(j,B),a(j,we),a(j,H),a(H,w),Oe(w,r[1]),a(H,Ee),a(H,G),a(G,Ae),a(b,ye),a(b,K),a(K,ke),a(b,De),M[y].m(b,null),E=!0,Ie||(Ne=[Ue(w,"input",r[4]),Ue(w,"keydown",r[3])],Ie=!0)},p(c,[f]){var g,O,U,ee,V,te,ae,se,N,le,z,F;(!E||f&1)&&n!==(n=((g=c[0].ama)==null?void 0:g.question)+" – Spikey Sanju")&&(document.title=n),(!E||f&1&&u!==(u=(O=c[0].ama)==null?void 0:O.description))&&o(i,"content",u),(!E||f&1)&&t!==(t=((U=c[0].ama)==null?void 0:U.question)+"")&&fe(v,t),(!E||f&1)&&R!==(R=((ee=c[0].ama)==null?void 0:ee.description)+"")&&fe(oe,R),(!E||f&1&&!Me(T.src,re=(te=(V=c[0].ama)==null?void 0:V.user)==null?void 0:te.image))&&o(T,"src",re),(!E||f&1&&ce!==(ce=(se=(ae=c[0].ama)==null?void 0:ae.user)==null?void 0:se.name))&&o(T,"alt",ce),(!E||f&1)&&Q!==(Q=((le=(N=c[0].ama)==null?void 0:N.user)==null?void 0:le.name)+"")&&fe(ue,Q),(!E||f&1)&&W!==(W=ze(new Date(`${(z=c[0].ama)==null?void 0:z.createdAt}`),new Date)+"")&&fe(ie,W),(!E||f&1&&me!==(me=(F=c[0].ama)==null?void 0:F.id))&&(B.value=me),f&2&&Oe(w,c[1]);let q=y;y=Te(c),y===q?M[y].p(c,f):(xe(),ne(M[q],1,1,()=>{M[q]=null}),Ze(),k=M[y],k?k.p(c,f):(k=M[y]=Ce[y](c),k.c()),L(k,1),k.m(b,null))},i(c){E||(L(k),E=!0)},o(c){ne(k),E=!1},d(c){m(i),c&&m(s),c&&m(_),M[y].d(),Ie=!1,We(Ne)}}}function ut(r,n,i){let{data:u}=n,s="";function _(t){var v,A,S,R;return((v=u.ama)==null?void 0:v.userId)===t&&((A=u.user)==null?void 0:A.role)==="USER"?"Author":((S=u.ama)==null?void 0:S.userId)===t&&((R=u.user)==null?void 0:R.role)==="ADMIN"?"Creator":"Guest"}function e(t){Ye.call(this,r,t)}function l(){s=this.value,i(1,s)}return r.$$set=t=>{"data"in t&&i(0,u=t.data)},[u,s,_,e,l]}class ft extends Je{constructor(n){super(),Ke(this,n,ut,ct,Le,{data:0})}}export{ft as default};
