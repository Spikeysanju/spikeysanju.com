import{S as He,i as Re,s as je,k as i,q as B,a as D,l as m,m as _,r as M,h as f,c as I,a6 as $e,n as s,b as Oe,H as t,a1 as xe,T as Ce,u as le,f as ne,d as Be,t as be,X as Me,Y as Ue,x as Xe,y as ze,z as Fe,A as Ge,g as Ye,a7 as Je}from"../../../../chunks/index-42721989.js";import{f as Ve,A as Ke}from"../../../../chunks/AmaCommentCard-be0a4a7b.js";function qe(n,l,c){const p=n.slice();return p[4]=l[c],p}function Ne(n){var p,w;let l,c;return l=new Ke({props:{name:((p=n[4].user)==null?void 0:p.name)??"Anonymous",image:((w=n[4].user)==null?void 0:w.image)??"/images/anonymous.png",content:n[4].content??"",createdAt:n[4].createdAt??""}}),{c(){Xe(l.$$.fragment)},l(o){ze(l.$$.fragment,o)},m(o,b){Fe(l,o,b),c=!0},p(o,b){var k,N;const d={};b&1&&(d.name=((k=o[4].user)==null?void 0:k.name)??"Anonymous"),b&1&&(d.image=((N=o[4].user)==null?void 0:N.image)??"/images/anonymous.png"),b&1&&(d.content=o[4].content??""),b&1&&(d.createdAt=o[4].createdAt??""),l.$set(d)},i(o){c||(ne(l.$$.fragment,o),c=!0)},o(o){be(l.$$.fragment,o),c=!1},d(o){Ge(l,o)}}}function Le(n){var ye,Ae,De,Ie,Se;let l,c,p,w=((ye=n[0].ama)==null?void 0:ye.question)+"",o,b,d,k=((Ae=n[0].ama)==null?void 0:Ae.description)+"",N,re,T,$,A,Z,ee,oe,U,G=((Ie=(De=n[0].ama)==null?void 0:De.user)==null?void 0:Ie.name)+"",te,ce,X,z,Y=Ve(new Date(`${(Se=n[0].ama)==null?void 0:Se.createdAt}`),new Date)+"",ae,ue,v,J,ie,me,S,x,se,fe,C,g,de,P,he,_e,F,pe,ve,E,ge,Ee,H=n[0].comments,r=[];for(let e=0;e<H.length;e+=1)r[e]=Ne(qe(n,H,e));const Pe=e=>be(r[e],1,1,()=>{r[e]=null});return{c(){l=i("section"),c=i("div"),p=i("h1"),o=B(w),b=D(),d=i("p"),N=B(k),re=D(),T=i("div"),$=i("div"),A=i("img"),oe=D(),U=i("span"),te=B(G),ce=D(),X=i("div"),z=i("span"),ae=B(Y),ue=D(),v=i("div"),J=i("h3"),ie=B("Comments"),me=D(),S=i("form"),x=i("input"),fe=D(),C=i("div"),g=i("textarea"),de=D(),P=i("button"),he=B("Submit"),_e=D(),F=i("h6"),pe=B("Recent comments"),ve=D();for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){l=m(e,"SECTION",{class:!0});var a=_(l);c=m(a,"DIV",{class:!0});var h=_(c);p=m(h,"H1",{});var V=_(p);o=M(V,w),V.forEach(f),b=I(h),d=m(h,"P",{});var q=_(d);N=M(q,k),q.forEach(f),re=I(h),T=m(h,"DIV",{class:!0});var R=_(T);$=m(R,"DIV",{class:!0});var j=_($);A=m(j,"IMG",{src:!0,alt:!0,class:!0}),oe=I(j),U=m(j,"SPAN",{class:!0});var K=_(U);te=M(K,G),K.forEach(f),j.forEach(f),ce=I(R),X=m(R,"DIV",{class:!0});var L=_(X);z=m(L,"SPAN",{class:!0});var Q=_(z);ae=M(Q,Y),Q.forEach(f),L.forEach(f),R.forEach(f),h.forEach(f),ue=I(a),v=m(a,"DIV",{class:!0});var y=_(v);J=m(y,"H3",{});var W=_(J);ie=M(W,"Comments"),W.forEach(f),me=I(y),S=m(y,"FORM",{method:!0,action:!0});var u=_(S);x=m(u,"INPUT",{type:!0,name:!0,id:!0}),fe=I(u),C=m(u,"DIV",{class:!0});var O=_(C);g=m(O,"TEXTAREA",{name:!0,id:!0,placeholder:!0,rows:!0,class:!0}),_(g).forEach(f),de=I(O),P=m(O,"BUTTON",{type:!0,class:!0});var ke=_(P);he=M(ke,"Submit"),ke.forEach(f),O.forEach(f),u.forEach(f),_e=I(y),F=m(y,"H6",{class:!0});var Te=_(F);pe=M(Te,"Recent comments"),Te.forEach(f),ve=I(y);for(let we=0;we<r.length;we+=1)r[we].l(y);y.forEach(f),a.forEach(f),this.h()},h(){var e,a,h,V,q;$e(A.src,Z=(a=(e=n[0].ama)==null?void 0:e.user)==null?void 0:a.image)||s(A,"src",Z),s(A,"alt",ee=(V=(h=n[0].ama)==null?void 0:h.user)==null?void 0:V.name),s(A,"class","h-12 w-12 rounded-full"),s(U,"class","font-bold text-gray-900"),s($,"class","flow-row flex items-center justify-center space-x-3"),s(z,"class","text-gray-500"),s(X,"class","text-right"),s(T,"class","flex flex-row items-center justify-between"),s(c,"class","flex w-full flex-col space-y-3"),s(x,"type","hidden"),s(x,"name","amaId"),s(x,"id","amaId"),x.value=se=(q=n[0].ama)==null?void 0:q.id,s(g,"name","comment"),s(g,"id","comment"),s(g,"placeholder","Share your thoughts..."),s(g,"rows","3"),s(g,"class","w-full whitespace-pre-line rounded-md border border-gray-300 p-3"),s(P,"type","submit"),s(P,"class","w-full rounded bg-black py-3 px-4 font-bold text-white shadow-lg hover:bg-gray-900 sm:w-auto sm:flex-auto"),s(C,"class","flex flex-col items-end justify-center space-x-0 space-y-3 sm:flex-row sm:space-y-0 sm:space-x-3"),s(S,"method","post"),s(S,"action","?/create"),s(F,"class","py-3"),s(v,"class","mt-6 flex w-full flex-col space-y-3"),s(l,"class","flex w-full flex-col")},m(e,a){Oe(e,l,a),t(l,c),t(c,p),t(p,o),t(c,b),t(c,d),t(d,N),t(c,re),t(c,T),t(T,$),t($,A),t($,oe),t($,U),t(U,te),t(T,ce),t(T,X),t(X,z),t(z,ae),t(l,ue),t(l,v),t(v,J),t(J,ie),t(v,me),t(v,S),t(S,x),t(S,fe),t(S,C),t(C,g),xe(g,n[1]),t(C,de),t(C,P),t(P,he),t(v,_e),t(v,F),t(F,pe),t(v,ve);for(let h=0;h<r.length;h+=1)r[h].m(v,null);E=!0,ge||(Ee=[Ce(g,"input",n[3]),Ce(g,"keydown",n[2])],ge=!0)},p(e,[a]){var h,V,q,R,j,K,L,Q,y,W;if((!E||a&1)&&w!==(w=((h=e[0].ama)==null?void 0:h.question)+"")&&le(o,w),(!E||a&1)&&k!==(k=((V=e[0].ama)==null?void 0:V.description)+"")&&le(N,k),(!E||a&1&&!$e(A.src,Z=(R=(q=e[0].ama)==null?void 0:q.user)==null?void 0:R.image))&&s(A,"src",Z),(!E||a&1&&ee!==(ee=(K=(j=e[0].ama)==null?void 0:j.user)==null?void 0:K.name))&&s(A,"alt",ee),(!E||a&1)&&G!==(G=((Q=(L=e[0].ama)==null?void 0:L.user)==null?void 0:Q.name)+"")&&le(te,G),(!E||a&1)&&Y!==(Y=Ve(new Date(`${(y=e[0].ama)==null?void 0:y.createdAt}`),new Date)+"")&&le(ae,Y),(!E||a&1&&se!==(se=(W=e[0].ama)==null?void 0:W.id))&&(x.value=se),a&2&&xe(g,e[1]),a&1){H=e[0].comments;let u;for(u=0;u<H.length;u+=1){const O=qe(e,H,u);r[u]?(r[u].p(O,a),ne(r[u],1)):(r[u]=Ne(O),r[u].c(),ne(r[u],1),r[u].m(v,null))}for(Ye(),u=H.length;u<r.length;u+=1)Pe(u);Be()}},i(e){if(!E){for(let a=0;a<H.length;a+=1)ne(r[a]);E=!0}},o(e){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)be(r[a]);E=!1},d(e){e&&f(l),Me(r,e),ge=!1,Ue(Ee)}}}function Qe(n,l,c){let{data:p}=l,w="";function o(d){Je.call(this,n,d)}function b(){w=this.value,c(1,w)}return n.$$set=d=>{"data"in d&&c(0,p=d.data)},[p,w,o,b]}class et extends He{constructor(l){super(),Re(this,l,Qe,Le,je,{data:0})}}export{et as default};
