import{S as fe,i as de,s as re,D as es,E as ts,m as P,h as C,n as m,b as W,C as le,F as rt,G as ot,k as L,q as J,a as X,x as ie,l as R,r as $,c as Y,y as ae,H as I,z as ce,f as j,t as F,A as ue,I as ss,J as Ke,K as ns,L as Ue,M as Ze,N as ze,O as rs,B as os,P as qe,Q as Z,R as z,T as se,U as ls,V as Ge,W as Ce,u as be,g as ke,d as Se,X as is,Y as kt,j as St,o as vt,v as Me,e as he,Z as It,_ as as,$ as cs,a0 as us,a1 as lt,a2 as hs,a3 as fs,a4 as ds}from"../../chunks/index-42721989.js";import{_ as Mt}from"../../chunks/preload-helper-41c905a7.js";import{w as Et,l as ge}from"../../chunks/singletons-e3d4c4d1.js";function gs(s){let e,t=s[2].svg+"",n;return{c(){e=es("svg"),this.h()},l(r){e=ts(r,"svg",{class:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0});var o=P(e);o.forEach(C),this.h()},h(){m(e,"class",n=s[3].class),m(e,"width",s[0]),m(e,"height",s[1]),m(e,"viewBox","0 0 "+s[2].box+" "+s[2].box),m(e,"fill","none"),m(e,"stroke","currentColor")},m(r,o){W(r,e,o),e.innerHTML=t},p(r,[o]){o&8&&n!==(n=r[3].class)&&m(e,"class",n),o&1&&m(e,"width",r[0]),o&2&&m(e,"height",r[1])},i:le,o:le,d(r){r&&C(e)}}}function ps(s,e,t){let{name:n}=e,{width:r}=e,{height:o}=e;const a={day:{box:24,svg:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.998 22H10.998V19H12.998V22ZM18.362 19.778L16.241 17.657L17.655 16.243L19.777 18.365L18.364 19.778H18.362ZM5.63405 19.778L4.21905 18.364L6.33905 16.242L7.75405 17.656L5.63405 19.777V19.778ZM11.998 17.007C9.23302 17.0059 6.99231 14.7637 6.99305 11.9987C6.99378 9.23364 9.23568 6.99263 12.0007 6.993C14.7657 6.99337 17.007 9.23497 17.007 12C17.0043 14.7649 14.763 17.0053 11.998 17.007ZM11.998 8.993C10.3376 8.9941 8.99231 10.3409 8.99305 12.0013C8.99378 13.6618 10.3403 15.0074 12.0007 15.007C13.6612 15.0066 15.007 13.6605 15.007 12C15.0054 10.3392 13.6589 8.99355 11.998 8.993ZM21.998 13H18.998V11H21.998V13ZM4.99805 13H1.99805V11H4.99805V13ZM17.654 7.758L16.241 6.343L18.362 4.221L19.777 5.636L17.655 7.757L17.654 7.758ZM6.34105 7.758L4.22105 5.637L5.63605 4.223L7.75605 6.345L6.34205 7.757L6.34105 7.758ZM12.998 5H10.998V2H12.998V5Z" fill="#2E3A59"></path></svg>'},night:{box:24,svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3a6.364 6.364 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg>'}}[n];return s.$$set=l=>{t(3,e=rt(rt({},e),ot(l))),"name"in l&&t(4,n=l.name),"width"in l&&t(0,r=l.width),"height"in l&&t(1,o=l.height)},e=ot(e),[r,o,a,e,n]}class ms extends fe{constructor(e){super(),de(this,e,ps,gs,re,{name:4,width:0,height:1})}}function _s(s){let e,t,n,r,o,i,a;return i=new ms({props:{name:"night",width:"20",height:"20"}}),{c(){e=L("nav"),t=L("div"),n=L("a"),r=J("Spikey Sanju;"),o=X(),ie(i.$$.fragment),this.h()},l(l){e=R(l,"NAV",{class:!0});var c=P(e);t=R(c,"DIV",{class:!0});var u=P(t);n=R(u,"A",{href:!0,class:!0});var h=P(n);r=$(h,"Spikey Sanju;"),h.forEach(C),o=Y(u),ae(i.$$.fragment,u),u.forEach(C),c.forEach(C),this.h()},h(){m(n,"href","/"),m(n,"class","text-lg font-bold tracking-tight"),m(t,"class","flex w-full flex-row items-center justify-between"),m(e,"class","flex w-full py-3")},m(l,c){W(l,e,c),I(e,t),I(t,n),I(n,r),I(t,o),ce(i,t,null),a=!0},p:le,i(l){a||(j(i.$$.fragment,l),a=!0)},o(l){F(i.$$.fragment,l),a=!1},d(l){l&&C(e),ue(i)}}}class ys extends fe{constructor(e){super(),de(this,e,null,_s,re,{})}}function it(s,{delay:e=0,duration:t=400,easing:n=ss}={}){const r=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*r}`}}async function at(s,e,t){const{callbackUrl:n=window.location.href,redirect:r=!0}=e??{},o=s==="credentials",a=o||s==="email",c=`${`/auth/${o?"callback":"signin"}/${s}`}?${new URLSearchParams(t)}`,u=await fetch("/auth/csrf"),{csrfToken:h}=await u.json(),d=await fetch(c,{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({...e,csrfToken:h,callbackUrl:n})}),_=await d.clone().json(),y=new URL(_.url).searchParams.get("error");if(r||!a||!y){window.location.href=_.url??n,_.url.includes("#")&&window.location.reload();return}return d}async function ct(s){const{callbackUrl:e=window.location.href}=s??{},t=await fetch("/auth/csrf"),{csrfToken:n}=await t.json(),i=(await(await fetch("/auth/signout",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Auth-Return-Redirect":"1"},body:new URLSearchParams({csrfToken:n,callbackUrl:e})})).json()).url??e;window.location.href=i,i.includes("#")&&window.location.reload()}function bs(s){let e,t,n,r,o;const i=s[3].default,a=Ke(i,s,s[2],null);return{c(){e=L("div"),a&&a.c()},l(l){e=R(l,"DIV",{});var c=P(e);a&&a.l(c),c.forEach(C)},m(l,c){W(l,e,c),a&&a.m(e,null),n=!0,r||(o=ns(t=s[1].call(null,e,s[0])),r=!0)},p(l,[c]){a&&a.p&&(!n||c&4)&&Ue(a,i,l,l[2],n?ze(i,l[2],c,null):Ze(l[2]),null),t&&rs(t.update)&&c&1&&t.update.call(null,l[0])},i(l){n||(j(a,l),n=!0)},o(l){F(a,l),n=!1},d(l){l&&C(e),a&&a.d(l),r=!1,o()}}}function ws(s,e,t){let{$$slots:n={},$$scope:r}=e,{target:o="body"}=e;const i=(a,l)=>{async function c(h){if(typeof h==="string"){const _=document.querySelector(h);if(_===null&&await os(),_===null)throw new Error("No element found matching selector");if(_)return _.appendChild(a),!0;throw new Error("Invalid target passed, target can either be a classname, id or HTMLElement")}else h instanceof HTMLElement&&h.appendChild(a)}function u(){a.parentNode&&a.parentNode.removeChild(a)}return c(l),{update:c,destroy:u}};return s.$$set=a=>{"target"in a&&t(0,o=a.target),"$$scope"in a&&t(2,r=a.$$scope)},[o,i,r,n]}class Cs extends fe{constructor(e){super(),de(this,e,ws,bs,re,{target:0})}}const x=Et({isVisible:!1,textInput:"",commands:[],storeMethods:{},actionMap:{},activeCommandId:0,selectedCommandId:0,calledActions:[],results:[]});function ne(s){return Array.isArray?Array.isArray(s):Rt(s)==="[object Array]"}const ks=1/0;function Ss(s){if(typeof s=="string")return s;let e=s+"";return e=="0"&&1/s==-ks?"-0":e}function vs(s){return s==null?"":Ss(s)}function te(s){return typeof s=="string"}function At(s){return typeof s=="number"}function Is(s){return s===!0||s===!1||Ms(s)&&Rt(s)=="[object Boolean]"}function Lt(s){return typeof s=="object"}function Ms(s){return Lt(s)&&s!==null}function q(s){return s!=null}function Oe(s){return!s.trim().length}function Rt(s){return s==null?s===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(s)}const Es="Incorrect 'index' type",As=s=>`Invalid value for key ${s}`,Ls=s=>`Pattern length exceeds max of ${s}.`,Rs=s=>`Missing ${s} property in key`,Ps=s=>`Property 'weight' in key '${s}' must be a positive integer`,ut=Object.prototype.hasOwnProperty;class Ts{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(n=>{let r=Pt(n);t+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,t+=r.weight}),this._keys.forEach(n=>{n.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Pt(s){let e=null,t=null,n=null,r=1,o=null;if(te(s)||ne(s))n=s,e=ht(s),t=Be(s);else{if(!ut.call(s,"name"))throw new Error(Rs("name"));const i=s.name;if(n=i,ut.call(s,"weight")&&(r=s.weight,r<=0))throw new Error(Ps(i));e=ht(i),t=Be(i),o=s.getFn}return{path:e,id:t,weight:r,src:n,getFn:o}}function ht(s){return ne(s)?s:s.split(".")}function Be(s){return ne(s)?s.join("."):s}function Ns(s,e){let t=[],n=!1;const r=(o,i,a)=>{if(q(o))if(!i[a])t.push(o);else{let l=i[a];const c=o[l];if(!q(c))return;if(a===i.length-1&&(te(c)||At(c)||Is(c)))t.push(vs(c));else if(ne(c)){n=!0;for(let u=0,h=c.length;u<h;u+=1)r(c[u],i,a+1)}else i.length&&r(c,i,a+1)}};return r(s,te(e)?e.split("."):e,0),n?t:t[0]}const Os={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Bs={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(s,e)=>s.score===e.score?s.idx<e.idx?-1:1:s.score<e.score?-1:1},Vs={location:0,threshold:.6,distance:100},Ds={useExtendedSearch:!1,getFn:Ns,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var w={...Bs,...Os,...Vs,...Ds};const js=/[^ ]+/g;function xs(s=1,e=3){const t=new Map,n=Math.pow(10,e);return{get(r){const o=r.match(js).length;if(t.has(o))return t.get(o);const i=1/Math.pow(o,.5*s),a=parseFloat(Math.round(i*n)/n);return t.set(o,a),a},clear(){t.clear()}}}class Xe{constructor({getFn:e=w.getFn,fieldNormWeight:t=w.fieldNormWeight}={}){this.norm=xs(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((t,n)=>{this._keysMap[t.id]=n})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,te(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();te(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!q(e)||Oe(e))return;let n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}_addObject(e,t){let n={i:t,$:{}};this.keys.forEach((r,o)=>{let i=r.getFn?r.getFn(e):this.getFn(e,r.path);if(q(i)){if(ne(i)){let a=[];const l=[{nestedArrIndex:-1,value:i}];for(;l.length;){const{nestedArrIndex:c,value:u}=l.pop();if(q(u))if(te(u)&&!Oe(u)){let h={v:u,i:c,n:this.norm.get(u)};a.push(h)}else ne(u)&&u.forEach((h,d)=>{l.push({nestedArrIndex:d,value:h})})}n.$[o]=a}else if(te(i)&&!Oe(i)){let a={v:i,n:this.norm.get(i)};n.$[o]=a}}}),this.records.push(n)}toJSON(){return{keys:this.keys,records:this.records}}}function Tt(s,e,{getFn:t=w.getFn,fieldNormWeight:n=w.fieldNormWeight}={}){const r=new Xe({getFn:t,fieldNormWeight:n});return r.setKeys(s.map(Pt)),r.setSources(e),r.create(),r}function Fs(s,{getFn:e=w.getFn,fieldNormWeight:t=w.fieldNormWeight}={}){const{keys:n,records:r}=s,o=new Xe({getFn:e,fieldNormWeight:t});return o.setKeys(n),o.setIndexRecords(r),o}function Ie(s,{errors:e=0,currentLocation:t=0,expectedLocation:n=0,distance:r=w.distance,ignoreLocation:o=w.ignoreLocation}={}){const i=e/s.length;if(o)return i;const a=Math.abs(n-t);return r?i+a/r:a?1:i}function Hs(s=[],e=w.minMatchCharLength){let t=[],n=-1,r=-1,o=0;for(let i=s.length;o<i;o+=1){let a=s[o];a&&n===-1?n=o:!a&&n!==-1&&(r=o-1,r-n+1>=e&&t.push([n,r]),n=-1)}return s[o-1]&&o-n>=e&&t.push([n,o-1]),t}const _e=32;function Ws(s,e,t,{location:n=w.location,distance:r=w.distance,threshold:o=w.threshold,findAllMatches:i=w.findAllMatches,minMatchCharLength:a=w.minMatchCharLength,includeMatches:l=w.includeMatches,ignoreLocation:c=w.ignoreLocation}={}){if(e.length>_e)throw new Error(Ls(_e));const u=e.length,h=s.length,d=Math.max(0,Math.min(n,h));let _=o,y=d;const b=a>1||l,k=b?Array(h):[];let T;for(;(T=s.indexOf(e,y))>-1;){let O=Ie(e,{currentLocation:T,expectedLocation:d,distance:r,ignoreLocation:c});if(_=Math.min(O,_),y=T+u,b){let g=0;for(;g<u;)k[T+g]=1,g+=1}}y=-1;let E=[],V=1,H=u+h;const M=1<<u-1;for(let O=0;O<u;O+=1){let g=0,p=H;for(;g<p;)Ie(e,{errors:O,currentLocation:d+p,expectedLocation:d,distance:r,ignoreLocation:c})<=_?g=p:H=p,p=Math.floor((H-g)/2+g);H=p;let S=Math.max(1,d-p+1),A=i?h:Math.min(d+p,h)+u,B=Array(A+2);B[A+1]=(1<<O)-1;for(let D=A;D>=S;D-=1){let U=D-1,oe=t[s.charAt(U)];if(b&&(k[U]=+!!oe),B[D]=(B[D+1]<<1|1)&oe,O&&(B[D]|=(E[D+1]|E[D])<<1|1|E[D+1]),B[D]&M&&(V=Ie(e,{errors:O,currentLocation:U,expectedLocation:d,distance:r,ignoreLocation:c}),V<=_)){if(_=V,y=U,y<=d)break;S=Math.max(1,2*d-y)}}if(Ie(e,{errors:O+1,currentLocation:d,expectedLocation:d,distance:r,ignoreLocation:c})>_)break;E=B}const v={isMatch:y>=0,score:Math.max(.001,V)};if(b){const O=Hs(k,a);O.length?l&&(v.indices=O):v.isMatch=!1}return v}function Ks(s){let e={};for(let t=0,n=s.length;t<n;t+=1){const r=s.charAt(t);e[r]=(e[r]||0)|1<<n-t-1}return e}class Nt{constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:r=w.distance,includeMatches:o=w.includeMatches,findAllMatches:i=w.findAllMatches,minMatchCharLength:a=w.minMatchCharLength,isCaseSensitive:l=w.isCaseSensitive,ignoreLocation:c=w.ignoreLocation}={}){if(this.options={location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const u=(d,_)=>{this.chunks.push({pattern:d,alphabet:Ks(d),startIndex:_})},h=this.pattern.length;if(h>_e){let d=0;const _=h%_e,y=h-_;for(;d<y;)u(this.pattern.substr(d,_e),d),d+=_e;if(_){const b=h-_e;u(this.pattern.substr(b),b)}}else u(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:n}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let y={isMatch:!0,score:0};return n&&(y.indices=[[0,e.length-1]]),y}const{location:r,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:l,ignoreLocation:c}=this.options;let u=[],h=0,d=!1;this.chunks.forEach(({pattern:y,alphabet:b,startIndex:k})=>{const{isMatch:T,score:E,indices:V}=Ws(e,y,b,{location:r+k,distance:o,threshold:i,findAllMatches:a,minMatchCharLength:l,includeMatches:n,ignoreLocation:c});T&&(d=!0),h+=E,T&&V&&(u=[...u,...V])});let _={isMatch:d,score:d?h/this.chunks.length:1};return d&&n&&(_.indices=u),_}}class pe{constructor(e){this.pattern=e}static isMultiMatch(e){return ft(e,this.multiRegex)}static isSingleMatch(e){return ft(e,this.singleRegex)}search(){}}function ft(s,e){const t=s.match(e);return t?t[1]:null}class Us extends pe{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class Zs extends pe{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const n=e.indexOf(this.pattern)===-1;return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class zs extends pe{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class qs extends pe{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Gs extends pe{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Xs extends pe{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}class Ot extends pe{constructor(e,{location:t=w.location,threshold:n=w.threshold,distance:r=w.distance,includeMatches:o=w.includeMatches,findAllMatches:i=w.findAllMatches,minMatchCharLength:a=w.minMatchCharLength,isCaseSensitive:l=w.isCaseSensitive,ignoreLocation:c=w.ignoreLocation}={}){super(e),this._bitapSearch=new Nt(e,{location:t,threshold:n,distance:r,includeMatches:o,findAllMatches:i,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class Bt extends pe{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t=0,n;const r=[],o=this.pattern.length;for(;(n=e.indexOf(this.pattern,t))>-1;)t=n+o,r.push([n,t-1]);const i=!!r.length;return{isMatch:i,score:i?0:1,indices:r}}}const Ve=[Us,Bt,zs,qs,Xs,Gs,Zs,Ot],dt=Ve.length,Ys=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,Qs="|";function Js(s,e={}){return s.split(Qs).map(t=>{let n=t.trim().split(Ys).filter(o=>o&&!!o.trim()),r=[];for(let o=0,i=n.length;o<i;o+=1){const a=n[o];let l=!1,c=-1;for(;!l&&++c<dt;){const u=Ve[c];let h=u.isMultiMatch(a);h&&(r.push(new u(h,e)),l=!0)}if(!l)for(c=-1;++c<dt;){const u=Ve[c];let h=u.isSingleMatch(a);if(h){r.push(new u(h,e));break}}}return r})}const $s=new Set([Ot.type,Bt.type]);class en{constructor(e,{isCaseSensitive:t=w.isCaseSensitive,includeMatches:n=w.includeMatches,minMatchCharLength:r=w.minMatchCharLength,ignoreLocation:o=w.ignoreLocation,findAllMatches:i=w.findAllMatches,location:a=w.location,threshold:l=w.threshold,distance:c=w.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:n,minMatchCharLength:r,findAllMatches:i,ignoreLocation:o,location:a,threshold:l,distance:c},this.pattern=t?e:e.toLowerCase(),this.query=Js(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:n,isCaseSensitive:r}=this.options;e=r?e:e.toLowerCase();let o=0,i=[],a=0;for(let l=0,c=t.length;l<c;l+=1){const u=t[l];i.length=0,o=0;for(let h=0,d=u.length;h<d;h+=1){const _=u[h],{isMatch:y,indices:b,score:k}=_.search(e);if(y){if(o+=1,a+=k,n){const T=_.constructor.type;$s.has(T)?i=[...i,...b]:i.push(b)}}else{a=0,o=0,i.length=0;break}}if(o){let h={isMatch:!0,score:a/o};return n&&(h.indices=i),h}}return{isMatch:!1,score:1}}}const De=[];function tn(...s){De.push(...s)}function je(s,e){for(let t=0,n=De.length;t<n;t+=1){let r=De[t];if(r.condition(s,e))return new r(s,e)}return new Nt(s,e)}const Ee={AND:"$and",OR:"$or"},xe={PATH:"$path",PATTERN:"$val"},Fe=s=>!!(s[Ee.AND]||s[Ee.OR]),sn=s=>!!s[xe.PATH],nn=s=>!ne(s)&&Lt(s)&&!Fe(s),gt=s=>({[Ee.AND]:Object.keys(s).map(e=>({[e]:s[e]}))});function Vt(s,e,{auto:t=!0}={}){const n=r=>{let o=Object.keys(r);const i=sn(r);if(!i&&o.length>1&&!Fe(r))return n(gt(r));if(nn(r)){const l=i?r[xe.PATH]:o[0],c=i?r[xe.PATTERN]:r[l];if(!te(c))throw new Error(As(l));const u={keyId:Be(l),pattern:c};return t&&(u.searcher=je(c,e)),u}let a={children:[],operator:o[0]};return o.forEach(l=>{const c=r[l];ne(c)&&c.forEach(u=>{a.children.push(n(u))})}),a};return Fe(s)||(s=gt(s)),n(s)}function rn(s,{ignoreFieldNorm:e=w.ignoreFieldNorm}){s.forEach(t=>{let n=1;t.matches.forEach(({key:r,norm:o,score:i})=>{const a=r?r.weight:null;n*=Math.pow(i===0&&a?Number.EPSILON:i,(a||1)*(e?1:o))}),t.score=n})}function on(s,e){const t=s.matches;e.matches=[],q(t)&&t.forEach(n=>{if(!q(n.indices)||!n.indices.length)return;const{indices:r,value:o}=n;let i={indices:r,value:o};n.key&&(i.key=n.key.src),n.idx>-1&&(i.refIndex=n.idx),e.matches.push(i)})}function ln(s,e){e.score=s.score}function an(s,e,{includeMatches:t=w.includeMatches,includeScore:n=w.includeScore}={}){const r=[];return t&&r.push(on),n&&r.push(ln),s.map(o=>{const{idx:i}=o,a={item:e[i],refIndex:i};return r.length&&r.forEach(l=>{l(o,a)}),a})}class we{constructor(e,t={},n){this.options={...w,...t},this.options.useExtendedSearch,this._keyStore=new Ts(this.options.keys),this.setCollection(e,n)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof Xe))throw new Error(Es);this._myIndex=t||Tt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){q(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const t=[];for(let n=0,r=this._docs.length;n<r;n+=1){const o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,r-=1,t.push(o))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:n,includeScore:r,shouldSort:o,sortFn:i,ignoreFieldNorm:a}=this.options;let l=te(e)?te(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return rn(l,{ignoreFieldNorm:a}),o&&l.sort(i),At(t)&&t>-1&&(l=l.slice(0,t)),an(l,this._docs,{includeMatches:n,includeScore:r})}_searchStringList(e){const t=je(e,this.options),{records:n}=this._myIndex,r=[];return n.forEach(({v:o,i,n:a})=>{if(!q(o))return;const{isMatch:l,score:c,indices:u}=t.searchIn(o);l&&r.push({item:o,idx:i,matches:[{score:c,value:o,norm:a,indices:u}]})}),r}_searchLogical(e){const t=Vt(e,this.options),n=(a,l,c)=>{if(!a.children){const{keyId:h,searcher:d}=a,_=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(l,h),searcher:d});return _&&_.length?[{idx:c,item:l,matches:_}]:[]}const u=[];for(let h=0,d=a.children.length;h<d;h+=1){const _=a.children[h],y=n(_,l,c);if(y.length)u.push(...y);else if(a.operator===Ee.AND)return[]}return u},r=this._myIndex.records,o={},i=[];return r.forEach(({$:a,i:l})=>{if(q(a)){let c=n(t,a,l);c.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},i.push(o[l])),c.forEach(({matches:u})=>{o[l].matches.push(...u)}))}}),i}_searchObjectList(e){const t=je(e,this.options),{keys:n,records:r}=this._myIndex,o=[];return r.forEach(({$:i,i:a})=>{if(!q(i))return;let l=[];n.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:i[u],searcher:t}))}),l.length&&o.push({idx:a,item:i,matches:l})}),o}_findMatches({key:e,value:t,searcher:n}){if(!q(t))return[];let r=[];if(ne(t))t.forEach(({v:o,i,n:a})=>{if(!q(o))return;const{isMatch:l,score:c,indices:u}=n.searchIn(o);l&&r.push({score:c,key:e,value:o,idx:i,norm:a,indices:u})});else{const{v:o,n:i}=t,{isMatch:a,score:l,indices:c}=n.searchIn(o);a&&r.push({score:l,key:e,value:o,norm:i,indices:c})}return r}}we.version="6.6.2";we.createIndex=Tt;we.parseIndex=Fs;we.config=w;we.parseQuery=Vt;tn(en);const He=()=>!0,cn=(s=[])=>s.map(({actionId:e=Math.random(),canActionRun:t=He,title:n="",subTitle:r="",onRun:o=He,description:i,keywords:a=[],shortcut:l=""})=>({actionId:e,canActionRun:t,title:n,subTitle:r,onRun:o,description:i,keywords:a,shortcut:l})),un=s=>s.map(({item:e})=>e),hn=s=>{x.update(e=>({...e,isVisible:!1,textInput:"",activeCommandId:null,selectedCommandId:null,results:[],calledActions:[...e.calledActions,s]}))},Ye=({action:s})=>{const{onRun:e,canActionRun:t=He,actionId:n=""}=s||{},r=qe(x),{storeMethods:o}=r;return t({action:s,storeProps:r,storeMethods:o})&&e?(hn(n),e==null||e({action:s,storeProps:r,storeMethods:o}),!0):(x.update(i=>({...i,isVisible:!1})),!1)},fn=s=>new we(s,{keys:[{name:"title",weight:1},{name:"subtitle",weight:.7},{name:"description",weight:.6},{name:"keywords",weight:.5}]}),We=(...s)=>s.find((e=[])=>e.length>0)||[],dn=s=>s.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase(),K=(s={})=>s?Object.keys(s).reduce((e,t)=>`${e}; ${dn(t)}: ${s[t]}`,""):"",gn={isVisible:!1,textInput:"",activeCommandId:null,selectedCommandId:null,results:[]},Ae="themeContext";function pn(s){let e,t,n,r;const o=s[6].default,i=Ke(o,s,s[5],null);return{c(){e=L("button"),i&&i.c(),this.h()},l(a){e=R(a,"BUTTON",{style:!0,class:!0});var l=P(e);i&&i.l(l),l.forEach(C),this.h()},h(){m(e,"style",s[4]),m(e,"class",Z(s[3])+" svelte-1chuwcc"),z(e,"keyboardButton",!s[2])},m(a,l){W(a,e,l),i&&i.m(e,null),t=!0,n||(r=se(e,"click",s[0]),n=!0)},p(a,[l]){i&&i.p&&(!t||l&32)&&Ue(i,o,a,a[5],t?ze(o,a[5],l,null):Ze(a[5]),null)},i(a){t||(j(i,a),t=!0)},o(a){F(i,a),t=!1},d(a){a&&C(e),i&&i.d(a),n=!1,r()}}}function mn(s,e,t){let n,{$$slots:r={},$$scope:o}=e;const i=ls(),a=d=>{i("KeyboardButtonClicked",{event:d})},l=Ge(Ae);Ce(s,l,d=>t(7,n=d));const{unstyled:c,keyboardButtonClass:u,keyboardButtonStyle:h}=n;return s.$$set=d=>{"$$scope"in d&&t(5,o=d.$$scope)},[a,l,c,u,h,o,r]}class Dt extends fe{constructor(e){super(),de(this,e,mn,pn,re,{})}}function pt(s,e,t){const n=s.slice();return n[22]=e[t],n}function _n(s){let e,t=s[22]+"",n,r;return{c(){e=L("span"),n=J(t),r=X()},l(o){e=R(o,"SPAN",{});var i=P(e);n=$(i,t),i.forEach(C),r=Y(o)},m(o,i){W(o,e,i),I(e,n),W(o,r,i)},p(o,i){i&8&&t!==(t=o[22]+"")&&be(n,t)},d(o){o&&C(e),o&&C(r)}}}function mt(s){let e,t;return e=new Dt({props:{$$slots:{default:[_n]},$$scope:{ctx:s}}}),{c(){ie(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,r){ce(e,n,r),t=!0},p(n,r){const o={};r&33554440&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ue(e,n)}}}function yn(s){let e,t,n,r=s[0].title+"",o,i,a,l=s[0].subTitle+"",c,u,h,d=(s[0].description||"")+"",_,y,b,k,T,E,V,H,M=s[3],v=[];for(let g=0;g<M.length;g+=1)v[g]=mt(pt(s,M,g));const O=g=>F(v[g],1,1,()=>{v[g]=null});return{c(){e=L("li"),t=L("div"),n=L("h4"),o=J(r),i=X(),a=L("p"),c=J(l),u=X(),h=L("p"),_=J(d),y=X(),b=L("div");for(let g=0;g<v.length;g+=1)v[g].c();this.h()},l(g){e=R(g,"LI",{class:!0,style:!0,"aria-selected":!0,role:!0});var p=P(e);t=R(p,"DIV",{});var S=P(t);n=R(S,"H4",{style:!0,class:!0});var A=P(n);o=$(A,r),A.forEach(C),i=Y(S),a=R(S,"P",{style:!0,class:!0});var B=P(a);c=$(B,l),B.forEach(C),u=Y(S),h=R(S,"P",{style:!0,class:!0});var G=P(h);_=$(G,d),G.forEach(C),S.forEach(C),y=Y(p),b=R(p,"DIV",{class:!0});var D=P(b);for(let U=0;U<v.length;U+=1)v[U].l(D);D.forEach(C),p.forEach(C),this.h()},h(){m(n,"style",s[12]),m(n,"class",Z(s[8])+" svelte-m0qryc"),z(n,"title",!s[6]),m(a,"style",s[13]),m(a,"class",Z(s[9])+" svelte-m0qryc"),z(a,"subtitle",!s[6]),m(h,"style",s[14]),m(h,"class",Z(s[10])+" svelte-m0qryc"),z(h,"description",!s[6]),m(b,"class","shortcuts svelte-m0qryc"),m(e,"class",k=Z(`${s[5]} ${s[2]?s[6]?s[7]:"selected":""}`)+" svelte-m0qryc"),m(e,"style",T=`${s[11]} ${s[2]?s[15]:""}`),m(e,"aria-selected",s[2]),m(e,"role","option"),z(e,"resultContainer",!s[6])},m(g,p){W(g,e,p),I(e,t),I(t,n),I(n,o),I(t,i),I(t,a),I(a,c),I(t,u),I(t,h),I(h,_),I(e,y),I(e,b);for(let S=0;S<v.length;S+=1)v[S].m(b,null);s[19](e),E=!0,V||(H=[se(e,"click",s[16]),se(e,"mouseenter",s[17]),se(e,"mouseleave",s[18])],V=!0)},p(g,[p]){if((!E||p&1)&&r!==(r=g[0].title+"")&&be(o,r),(!E||p&1)&&l!==(l=g[0].subTitle+"")&&be(c,l),(!E||p&1)&&d!==(d=(g[0].description||"")+"")&&be(_,d),p&8){M=g[3];let S;for(S=0;S<M.length;S+=1){const A=pt(g,M,S);v[S]?(v[S].p(A,p),j(v[S],1)):(v[S]=mt(A),v[S].c(),j(v[S],1),v[S].m(b,null))}for(ke(),S=M.length;S<v.length;S+=1)O(S);Se()}(!E||p&4&&k!==(k=Z(`${g[5]} ${g[2]?g[6]?g[7]:"selected":""}`)+" svelte-m0qryc"))&&m(e,"class",k),(!E||p&4&&T!==(T=`${g[11]} ${g[2]?g[15]:""}`))&&m(e,"style",T),(!E||p&4)&&m(e,"aria-selected",g[2]),(!E||p&68)&&z(e,"resultContainer",!g[6])},i(g){if(!E){for(let p=0;p<M.length;p+=1)j(v[p]);E=!0}},o(g){v=v.filter(Boolean);for(let p=0;p<v.length;p+=1)F(v[p]);E=!1},d(g){g&&C(e),is(v,g),s[19](null),V=!1,kt(H)}}}function bn(s,e,t){let n,r;Ce(s,x,p=>t(20,n=p));let{action:o}=e,i,a,l=[];const c=Ge(Ae);Ce(s,c,p=>t(21,r=p));const{resultContainerClass:u,unstyled:h,optionSelectedClass:d,titleClass:_,subtitleClass:y,descriptionClass:b,resultContainerStyle:k,titleStyle:T,subtitleStyle:E,descriptionStyle:V,optionSelectedStyle:H}=r;St(()=>{o.actionId===n.activeCommandId&&i?(t(2,a=!0),requestAnimationFrame(()=>{var p;(p=i==null?void 0:i.scrollIntoView)==null||p.call(i,{behavior:"smooth",block:"nearest"})})):t(2,a=!1)});const M=()=>{Ye({action:o})};vt(async()=>{const p=await Mt(()=>import("../../chunks/tinykeys.module-478663cb.js"),[],import.meta.url),{parseKeybinding:S}=p;if(o.shortcut){const A=S(o.shortcut);t(3,l=A.flat().filter(B=>B.length>0))}});const v=()=>{t(2,a=!0),x.update(p=>({...p,activeCommandId:o.actionId||"",selectedCommandId:o.actionId||""}))},O=()=>{t(2,a=!1)};function g(p){Me[p?"unshift":"push"](()=>{i=p,t(1,i)})}return s.$$set=p=>{"action"in p&&t(0,o=p.action)},[o,i,a,l,c,u,h,d,_,y,b,k,T,E,V,H,M,v,O,g]}class wn extends fe{constructor(e){super(),de(this,e,bn,yn,re,{action:0})}}function _t(s,e,t){const n=s.slice();return n[7]=e[t],n}function Cn(s){let e,t,n;return{c(){e=L("div"),t=L("span"),n=J("No results found"),this.h()},l(r){e=R(r,"DIV",{class:!0});var o=P(e);t=R(o,"SPAN",{});var i=P(t);n=$(i,"No results found"),i.forEach(C),o.forEach(C),this.h()},h(){m(e,"class","no-results svelte-1pfdcoe")},m(r,o){W(r,e,o),I(e,t),I(t,n)},p:le,i:le,o:le,d(r){r&&C(e)}}}function kn(s){let e,t=[],n=new Map,r,o=s[0];const i=a=>a[7].actionId;for(let a=0;a<o.length;a+=1){let l=_t(s,o,a),c=i(l);n.set(c,t[a]=yt(c,l))}return{c(){e=L("ul");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=R(a,"UL",{class:!0,style:!0,role:!0});var l=P(e);for(let c=0;c<t.length;c+=1)t[c].l(l);l.forEach(C),this.h()},h(){m(e,"class",Z(s[2])+" svelte-1pfdcoe"),m(e,"style",s[4]),m(e,"role","listbox"),z(e,"results",!s[3])},m(a,l){W(a,e,l);for(let c=0;c<t.length;c+=1)t[c].m(e,null);r=!0},p(a,l){l&1&&(o=a[0],ke(),t=as(t,l,i,1,a,o,n,e,cs,yt,null,_t),Se())},i(a){if(!r){for(let l=0;l<o.length;l+=1)j(t[l]);r=!0}},o(a){for(let l=0;l<t.length;l+=1)F(t[l]);r=!1},d(a){a&&C(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function yt(s,e){let t,n,r;return n=new wn({props:{action:e[7]}}),{key:s,first:null,c(){t=he(),ie(n.$$.fragment),this.h()},l(o){t=he(),ae(n.$$.fragment,o),this.h()},h(){this.first=t},m(o,i){W(o,t,i),ce(n,o,i),r=!0},p(o,i){e=o;const a={};i&1&&(a.action=e[7]),n.$set(a)},i(o){r||(j(n.$$.fragment,o),r=!0)},o(o){F(n.$$.fragment,o),r=!1},d(o){o&&C(t),ue(n,o)}}}function Sn(s){let e,t,n,r;const o=[kn,Cn],i=[];function a(l,c){return l[0].length>0?0:1}return e=a(s),t=i[e]=o[e](s),{c(){t.c(),n=he()},l(l){t.l(l),n=he()},m(l,c){i[e].m(l,c),W(l,n,c),r=!0},p(l,[c]){let u=e;e=a(l),e===u?i[e].p(l,c):(ke(),F(i[u],1,1,()=>{i[u]=null}),Se(),t=i[e],t?t.p(l,c):(t=i[e]=o[e](l),t.c()),j(t,1),t.m(n.parentNode,n))},i(l){r||(j(t),r=!0)},o(l){F(t),r=!1},d(l){i[e].d(l),l&&C(n)}}}function vn(s,e,t){let n,r=[];const o=x.subscribe(u=>{t(0,r=u.results.length>0?We(u.results):We(u.commands))}),i=Ge(Ae);Ce(s,i,u=>t(5,n=u));const{resultsContainerClass:a,unstyled:l,resultsContainerStyle:c}=n;return It(o),[r,i,a,l,c]}class In extends fe{constructor(e){super(),de(this,e,vn,Sn,re,{})}}const Mn=({actions:s=[]})=>s.reduce((e,t)=>{const n=o=>{const i=qe(x),{isVisible:a}=i;a||(o.preventDefault(),Ye({action:t}))},{shortcut:r}=t;return r&&(e[r]=n),e},{}),En=()=>{const s=qe(x),e=()=>{x.update(c=>({...c,...gn}))};return{togglePalette:()=>{x.update(c=>({...c,isVisible:!c.isVisible,activeCommandId:""}))},getAllCalledActions:()=>s.calledActions||[],storeCalledAction:c=>{const{calledActions:u}=s;u.push(c),x.update(h=>({...h,calledActions:u}))},revertLastAction:c=>{const{calledActions:u}=s;u.pop(),x.update(h=>({...h,calledActions:u}))},resetActionLog:()=>{x.update(c=>({...c,calledActions:[]}))},openPalette:()=>{x.update(c=>({...c,isVisible:!0}))},closePalette:()=>{e()},resetPaletteStore:e}},An=(s=[])=>s.reduce((e,t)=>{const{actionId:n=""}=t;return e[n]=t,e},{});function bt(s){let e,t,n,r,o,i,a,l,c,u,h,d,_,y,b,k,T,E,V,H,M,v,O;return y=new Dt({props:{$$slots:{default:[Ln]},$$scope:{ctx:s}}}),y.$on("KeyboardButtonClicked",s[34]),k=new In({}),{c(){e=L("div"),t=L("div"),n=L("div"),r=L("form"),o=L("label"),i=J("Search for an action"),a=X(),l=L("input"),d=X(),_=L("div"),ie(y.$$.fragment),b=X(),ie(k.$$.fragment),this.h()},l(g){e=R(g,"DIV",{id:!0,class:!0,style:!0});var p=P(e);t=R(p,"DIV",{class:!0,role:!0,"aria-expanded":!0,"aria-haspopup":!0,"aria-controls":!0});var S=P(t);n=R(S,"DIV",{class:!0,style:!0});var A=P(n);r=R(A,"FORM",{autocomplete:!0,role:!0,class:!0});var B=P(r);o=R(B,"LABEL",{for:!0,class:!0});var G=P(o);i=$(G,"Search for an action"),G.forEach(C),a=Y(B),l=R(B,"INPUT",{type:!0,class:!0,style:!0,placeholder:!0,"aria-autocomplete":!0,spellcheck:!0,"aria-activedescendant":!0,id:!0,autocomplete:!0,autocapitalize:!0}),d=Y(B),_=R(B,"DIV",{class:!0});var D=P(_);ae(y.$$.fragment,D),D.forEach(C),B.forEach(C),b=Y(A),ae(k.$$.fragment,A),A.forEach(C),S.forEach(C),p.forEach(C),this.h()},h(){m(o,"for",wt),m(o,"class","svelte-mqok30"),m(l,"type","search"),m(l,"class",c=Z(s[1])+" svelte-mqok30"),m(l,"style",u=K(s[5])),m(l,"placeholder",s[0]),m(l,"aria-autocomplete","list"),m(l,"spellcheck",!1),m(l,"aria-activedescendant",h=`palette-${s[12]}`),m(l,"id",wt),m(l,"autocomplete","off"),m(l,"autocapitalize","false"),z(l,"paletteInput",!s[4]),m(_,"class","shortcut svelte-mqok30"),m(r,"autocomplete","off"),m(r,"role","search"),r.noValidate=!0,m(r,"class","svelte-mqok30"),m(n,"class",T=Z(s[3])+" svelte-mqok30"),m(n,"style",E=K(s[7])),z(n,"paletteWrapperInner",!s[4]),m(t,"class","paletteWrapper"),m(t,"role","combobox"),m(t,"aria-expanded",!0),m(t,"aria-haspopup","listbox"),m(t,"aria-controls","uniqId"),m(e,"id","wrapper"),m(e,"class",V=Z(s[2])+" svelte-mqok30"),m(e,"style",H=K(s[6])),z(e,"wrapper",!s[4])},m(g,p){W(g,e,p),I(e,t),I(t,n),I(n,r),I(r,o),I(o,i),I(r,a),I(r,l),s[32](l),lt(l,s[14].textInput),I(r,d),I(r,_),ce(y,_,null),I(n,b),ce(k,n,null),s[35](n),s[36](e),M=!0,v||(O=[se(l,"input",s[33]),se(l,"input",s[16]),se(r,"submit",Tn)],v=!0)},p(g,p){(!M||p[0]&2&&c!==(c=Z(g[1])+" svelte-mqok30"))&&m(l,"class",c),(!M||p[0]&32&&u!==(u=K(g[5])))&&m(l,"style",u),(!M||p[0]&1)&&m(l,"placeholder",g[0]),(!M||p[0]&4096&&h!==(h=`palette-${g[12]}`))&&m(l,"aria-activedescendant",h),p[0]&16384&&lt(l,g[14].textInput),(!M||p[0]&18)&&z(l,"paletteInput",!g[4]);const S={};p[0]&8192|p[1]&268435456&&(S.$$scope={dirty:p,ctx:g}),y.$set(S),(!M||p[0]&8&&T!==(T=Z(g[3])+" svelte-mqok30"))&&m(n,"class",T),(!M||p[0]&128&&E!==(E=K(g[7])))&&m(n,"style",E),(!M||p[0]&24)&&z(n,"paletteWrapperInner",!g[4]),(!M||p[0]&4&&V!==(V=Z(g[2])+" svelte-mqok30"))&&m(e,"class",V),(!M||p[0]&64&&H!==(H=K(g[6])))&&m(e,"style",H),(!M||p[0]&20)&&z(e,"wrapper",!g[4])},i(g){M||(j(y.$$.fragment,g),j(k.$$.fragment,g),M=!0)},o(g){F(y.$$.fragment,g),F(k.$$.fragment,g),M=!1},d(g){g&&C(e),s[32](null),ue(y),ue(k),s[35](null),s[36](null),v=!1,kt(O)}}}function Ln(s){let e;return{c(){e=J(s[13])},l(t){e=$(t,s[13])},m(t,n){W(t,e,n)},p(t,n){n[0]&8192&&be(e,t[13])},d(t){t&&C(e)}}}function Rn(s){let e,t,n=s[11]&&bt(s);return{c(){n&&n.c(),e=he()},l(r){n&&n.l(r),e=he()},m(r,o){n&&n.m(r,o),W(r,e,o),t=!0},p(r,o){r[11]?n?(n.p(r,o),o[0]&2048&&j(n,1)):(n=bt(r),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(ke(),F(n,1,1,()=>{n=null}),Se())},i(r){t||(j(n),t=!0)},o(r){F(n),t=!1},d(r){n&&n.d(r),r&&C(e)}}}function Pn(s){let e,t;return e=new Cs({props:{target:"body",$$slots:{default:[Rn]},$$scope:{ctx:s}}}),{c(){ie(e.$$.fragment)},l(n){ae(e.$$.fragment,n)},m(n,r){ce(e,n,r),t=!0},p(n,r){const o={};r[0]&32767|r[1]&268435456&&(o.$$scope={dirty:r,ctx:n}),e.$set(o)},i(n){t||(j(e.$$.fragment,n),t=!0)},o(n){F(e.$$.fragment,n),t=!1},d(n){ue(e,n)}}}const wt="paletteInput",Tn=s=>s.preventDefault();function Nn(s,e,t){let n;Ce(s,x,f=>t(14,n=f));let{commands:r=[]}=e,{placeholder:o="Search for an action"}=e,{inputClass:i=null}=e,{overlayClass:a=null}=e,{paletteWrapperInnerClass:l=null}=e,{resultsContainerClass:c=null}=e,{resultContainerClass:u=null}=e,{optionSelectedClass:h=null}=e,{titleClass:d=null}=e,{subtitleClass:_=null}=e,{descriptionClass:y=null}=e,{keyboardButtonClass:b=null}=e,{unstyled:k=!1}=e,{inputStyle:T={}}=e,{overlayStyle:E={}}=e,{paletteWrapperInnerStyle:V={}}=e,{resultsContainerStyle:H={}}=e,{resultContainerStyle:M={}}=e,{optionSelectedStyle:v={}}=e,{titleStyle:O={}}=e,{subtitleStyle:g={}}=e,{descriptionStyle:p={}}=e,{keyboardButtonStyle:S={}}=e,A,B,G,D,U=!1,oe,Le,ee=[],Re=!1,Pe=[];const Qe=Et({});us(Ae,Qe);const Je=En(),$e=An(r);let et="";const{togglePalette:jt,closePalette:xt}=Je;(()=>{x.update(f=>({...f,commands:r,storeMethods:Je,actionMap:$e,activeCommandId:null,results:r}))})();const Ft=x.subscribe(f=>{t(11,U=f.isVisible),Pe=f.commands,t(12,oe=f.activeCommandId??null),ee=We(f.results,f.commands,[])}),tt=()=>{Le==null||Le.focus()},ve=f=>{var N;(N=f==null?void 0:f.preventDefault)==null||N.call(f),xt(),tt()},Ht=()=>{U&&B.focus()},st=f=>{x.update(N=>({...N,activeCommandId:f}))},Wt=f=>{f.preventDefault();let N=ee.findIndex(Ne=>Ne.actionId===oe)??0;N=N===-1?0:N;const Q=ee.length,me=(Q+N-1)%Q,Te=ee[me]?me:N;st(ee[Te].actionId||"")},Kt=f=>{if(f.preventDefault(),ee.length){let N=ee.findIndex(Ne=>Ne.actionId===oe)??0;N=N===-1?-1:N;const Q=ee.length,me=(N+1)%Q,Te=ee[me]?me:N;st(ee[Te].actionId||"")}},Ut=f=>{f.preventDefault();const N=$e[oe];Ye({action:N})},nt=f=>{G&&!G.contains(f.target)&&ve()},Zt=f=>{f.preventDefault(),jt()};vt(async()=>{const f=await Mt(()=>import("../../chunks/tinykeys.module-478663cb.js"),[],import.meta.url),{default:N,parseKeybinding:Q}=f;t(13,et=Q("Esc").flat().join(""));const me=Mn({actions:r});D=N(window,{...me,"$mod+k":Zt,Escape:ve,ArrowUp:Wt,ArrowDown:Kt,Enter:Ut})});const zt=fn(Pe),qt=f=>{x.update(N=>{var Q;return{...N,results:f,activeCommandId:((Q=f==null?void 0:f[0])==null?void 0:Q.actionId)||""}})},Gt=f=>{f.preventDefault();let N=[...Pe];if(n.textInput){const Q=n.textInput;N=un(zt.search(Q))}qt(N)};St(()=>{Ht(),A&&!Re&&(A==null||A.addEventListener("click",nt),Re=!0),U||(Re=!1),Qe.set({inputClass:i,overlayClass:a,paletteWrapperInnerClass:l,resultsContainerClass:c,resultContainerClass:u,optionSelectedClass:h,titleClass:d,subtitleClass:_,descriptionClass:y,keyboardButtonClass:b,unstyled:k,inputStyle:K(T),overlayStyle:K(E),paletteWrapperInnerStyle:K(V),resultsContainerStyle:K(H),resultContainerStyle:K(M),optionSelectedStyle:K(v),titleStyle:K(O),subtitleStyle:K(g),descriptionStyle:K(p),keyboardButtonStyle:K(S)})}),It(()=>{var f;D==null||D(),Ft(),tt(),(f=A==null?void 0:A.removeEventListener)==null||f.call(A,"click",nt)});function Xt(f){Me[f?"unshift":"push"](()=>{B=f,t(9,B)})}function Yt(){n.textInput=this.value,x.set(n)}const Qt=()=>ve();function Jt(f){Me[f?"unshift":"push"](()=>{G=f,t(10,G)})}function $t(f){Me[f?"unshift":"push"](()=>{A=f,t(8,A)})}return s.$$set=f=>{"commands"in f&&t(17,r=f.commands),"placeholder"in f&&t(0,o=f.placeholder),"inputClass"in f&&t(1,i=f.inputClass),"overlayClass"in f&&t(2,a=f.overlayClass),"paletteWrapperInnerClass"in f&&t(3,l=f.paletteWrapperInnerClass),"resultsContainerClass"in f&&t(18,c=f.resultsContainerClass),"resultContainerClass"in f&&t(19,u=f.resultContainerClass),"optionSelectedClass"in f&&t(20,h=f.optionSelectedClass),"titleClass"in f&&t(21,d=f.titleClass),"subtitleClass"in f&&t(22,_=f.subtitleClass),"descriptionClass"in f&&t(23,y=f.descriptionClass),"keyboardButtonClass"in f&&t(24,b=f.keyboardButtonClass),"unstyled"in f&&t(4,k=f.unstyled),"inputStyle"in f&&t(5,T=f.inputStyle),"overlayStyle"in f&&t(6,E=f.overlayStyle),"paletteWrapperInnerStyle"in f&&t(7,V=f.paletteWrapperInnerStyle),"resultsContainerStyle"in f&&t(25,H=f.resultsContainerStyle),"resultContainerStyle"in f&&t(26,M=f.resultContainerStyle),"optionSelectedStyle"in f&&t(27,v=f.optionSelectedStyle),"titleStyle"in f&&t(28,O=f.titleStyle),"subtitleStyle"in f&&t(29,g=f.subtitleStyle),"descriptionStyle"in f&&t(30,p=f.descriptionStyle),"keyboardButtonStyle"in f&&t(31,S=f.keyboardButtonStyle)},[o,i,a,l,k,T,E,V,A,B,G,U,oe,et,n,ve,Gt,r,c,u,h,d,_,y,b,H,M,v,O,g,p,S,Xt,Yt,Qt,Jt,$t]}class On extends fe{constructor(e){super(),de(this,e,Nn,Pn,re,{commands:17,placeholder:0,inputClass:1,overlayClass:2,paletteWrapperInnerClass:3,resultsContainerClass:18,resultContainerClass:19,optionSelectedClass:20,titleClass:21,subtitleClass:22,descriptionClass:23,keyboardButtonClass:24,unstyled:4,inputStyle:5,overlayStyle:6,paletteWrapperInnerStyle:7,resultsContainerStyle:25,resultContainerStyle:26,optionSelectedStyle:27,titleStyle:28,subtitleStyle:29,descriptionStyle:30,keyboardButtonStyle:31},null,[-1,-1])}}ge.disable_scroll_handling;const ye=ge.goto;ge.invalidate;ge.invalidateAll;ge.preload_data;ge.preload_code;ge.before_navigate;ge.after_navigate;function Bn(s){let e,t,n,r;return{c(){e=L("button"),t=J("Sign in")},l(o){e=R(o,"BUTTON",{});var i=P(e);t=$(i,"Sign in"),i.forEach(C)},m(o,i){W(o,e,i),I(e,t),n||(r=se(e,"click",s[5]),n=!0)},p:le,d(o){o&&C(e),n=!1,r()}}}function Vn(s){var u;let e,t,n=((u=s[0].session.user)==null?void 0:u.name)+"",r,o,i,a,l,c;return{c(){e=L("div"),t=L("p"),r=J(n),o=X(),i=L("button"),a=J("Sign out"),this.h()},l(h){e=R(h,"DIV",{class:!0});var d=P(e);t=R(d,"P",{});var _=P(t);r=$(_,n),_.forEach(C),o=Y(d),i=R(d,"BUTTON",{});var y=P(i);a=$(y,"Sign out"),y.forEach(C),d.forEach(C),this.h()},h(){m(e,"class","flex w-full flex-row items-center justify-between")},m(h,d){W(h,e,d),I(e,t),I(t,r),I(e,o),I(e,i),I(i,a),l||(c=se(i,"click",s[4]),l=!0)},p(h,d){var _;d&1&&n!==(n=((_=h[0].session.user)==null?void 0:_.name)+"")&&be(r,n)},d(h){h&&C(e),l=!1,c()}}}function Ct(s){let e,t,n,r,o,i,a,l,c;t=new On({props:{unstyled:!1,commands:s[1],keyboardButtonClass:"bg-black text-white",inputClass:"bg-gray-50 flex w-full border-transparent focus:border-transparent focus:ring-0",overlayClass:"bg-black bg-opacity-90",paletteWrapperInnerClass:"w-full flex flex-col",resultsContainerClass:"h-max bg-white",resultContainerClass:"bg-white",optionSelectedClass:"text-gray-50 bg-gray-50",subtitleClass:"text-gray-500",titleClass:"text-gray-900",descriptionClass:"text-sm"}});function u(b,k){return b[0].session?Vn:Bn}let h=u(s),d=h(s);o=new ys({});const _=s[3].default,y=Ke(_,s,s[2],null);return{c(){e=L("main"),ie(t.$$.fragment),n=X(),d.c(),r=X(),ie(o.$$.fragment),i=X(),y&&y.c(),this.h()},l(b){e=R(b,"MAIN",{class:!0,"data-sveltekit-preload-data":!0});var k=P(e);ae(t.$$.fragment,k),n=Y(k),d.l(k),r=Y(k),ae(o.$$.fragment,k),i=Y(k),y&&y.l(k),k.forEach(C),this.h()},h(){m(e,"class","mx-auto max-w-2xl px-3"),m(e,"data-sveltekit-preload-data","hover")},m(b,k){W(b,e,k),ce(t,e,null),I(e,n),d.m(e,null),I(e,r),ce(o,e,null),I(e,i),y&&y.m(e,null),c=!0},p(b,k){h===(h=u(b))&&d?d.p(b,k):(d.d(1),d=h(b),d&&(d.c(),d.m(e,r))),y&&y.p&&(!c||k&4)&&Ue(y,_,b,b[2],c?ze(_,b[2],k,null):Ze(b[2]),null)},i(b){c||(j(t.$$.fragment,b),j(o.$$.fragment,b),j(y,b),hs(()=>{l&&l.end(1),a=fs(e,it,{duration:150,delay:150}),a.start()}),c=!0)},o(b){F(t.$$.fragment,b),F(o.$$.fragment,b),F(y,b),a&&a.invalidate(),l=ds(e,it,{duration:150}),c=!1},d(b){b&&C(e),ue(t),d.d(),ue(o),y&&y.d(b),b&&l&&l.end()}}}function Dn(s){let e=s[0].currentRoute,t,n,r=Ct(s);return{c(){r.c(),t=he()},l(o){r.l(o),t=he()},m(o,i){r.m(o,i),W(o,t,i),n=!0},p(o,[i]){i&1&&re(e,e=o[0].currentRoute)?(ke(),F(r,1,1,le),Se(),r=Ct(o),r.c(),j(r,1),r.m(t.parentNode,t)):r.p(o,i)},i(o){n||(j(r),n=!0)},o(o){F(r),n=!1},d(o){o&&C(t),r.d(o)}}}function jn(s,e,t){let{$$slots:n={},$$scope:r}=e;const o=cn([{actionId:"home",title:"Home",subTitle:"Home page",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/")},keywords:["home","homepage","main"]},{actionId:"irl",title:"IRL",subTitle:"People i want to meet IRL",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/irl")},keywords:["irl","irlpage","people"]},{actionId:"photos",title:"Photos",subTitle:"Some photos I have taken over the years.",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/photos")},keywords:["photo","photopage","pic","pics"]},{actionId:"about",title:"About",subTitle:"About me",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/about")},keywords:["about","aboutpage","me"]},{actionId:"signout",title:"Sign out",subTitle:"Sign out of the app",onRun:({action:c,storeProps:u,storeMethods:h})=>{ct()},keywords:["signout","signoutpage","signout"]},{actionId:"signin",title:"Sign in",subTitle:"Sign in to the app",onRun:({action:c,storeProps:u,storeMethods:h})=>{at()},keywords:["signin","signinpage","signin"]},{actionId:"github",title:"Github",subTitle:"Github page",onRun:({action:c,storeProps:u,storeMethods:h})=>{window.open("https://www.github.com/spikeysanju","_blank")},keywords:["github","github page"]},{actionId:"twitter",title:"Twitter",subTitle:"Twitter page",onRun:({action:c,storeProps:u,storeMethods:h})=>{window.open("https://www.twitter.com/spikeysanju","_blank")},keywords:["twitter","twitter page"]},{actionId:"linkedin",title:"Linkedin",subTitle:"Linkedin page",onRun:({action:c,storeProps:u,storeMethods:h})=>{window.open("https://www.linkedin.com/in/spikeysanju","_blank")},keywords:["linkedin","linkedin page"]},{actionId:"instagram",title:"Instagram",subTitle:"Instagram page",onRun:({action:c,storeProps:u,storeMethods:h})=>{window.open("https://www.instagram.com/spikeysanju","_blank")},keywords:["instagram","insta","insta page"]},{actionId:"books",title:"Books",subTitle:"Books i read",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/books")},keywords:["books","book","bookpage"]},{actionId:"blogs",title:"Blogs",subTitle:"Blogs i write",onRun:({action:c,storeProps:u,storeMethods:h})=>{ye("/blog")},keywords:["blogs","blog","blogpage"]}]);let{data:i}=e;const a=()=>ct(),l=()=>at();return s.$$set=c=>{"data"in c&&t(0,i=c.data),"$$scope"in c&&t(2,r=c.$$scope)},[i,o,r,n,a,l]}class Kn extends fe{constructor(e){super(),de(this,e,jn,Dn,re,{data:0})}}export{Kn as default};
